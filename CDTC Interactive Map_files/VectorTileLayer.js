// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/mixins/ArcGISCachedService":function(){define("exports ../../chunks/tslib.es6 ../../geometry ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/TileInfo ../support/TileInfoTilemapCache ../support/TilemapCache ../../geometry/SpatialReference".split(" "),function(b,a,q,f,l,g,h,n,d,e,k,x,C){b.ArcGISCachedService=r=>{r=class extends r{constructor(){super(...arguments);
this.copyright=null;this.maxScale=this.minScale=0;this.tilemapCache=this.tileInfo=this.spatialReference=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(p,v){return null!=v.minLOD&&null!=v.maxLOD?p:0}readMaxScale(p,v){return null!=v.minLOD&&null!=v.maxLOD?p:0}get supportsBlankTile(){return 10.2<=this.version}readTilemapCache(p,v,F){p=v.capabilities?.includes("Tilemap");let {minLOD:G,maxLOD:H,minScale:z,maxScale:D}=v;if(null==G&&null==H&&0!==z&&0!==D){z=z?Math.round(1E4*z)/1E4:Math.round(1E4*
v.tileInfo.lods[0].scale)/1E4;D=D?Math.round(1E4*D)/1E4:Math.round(1E4*v.tileInfo.lods[v.tileInfo.lods.length-1].scale)/1E4;for(var A of v.tileInfo.lods){const K=Math.round(1E4*A.scale)/1E4;G=K>=z?A.level:G;H=K>=D?A.level:H}}return p?new x.TilemapCache({layer:this,minLOD:G,maxLOD:H}):v.tileInfo?(A=new e,A.read(v.tileInfo,F),new k(A,G,H)):null}};a.__decorate([f.property({json:{read:{source:"copyrightText"}}})],r.prototype,"copyright",void 0);a.__decorate([f.property()],r.prototype,"minScale",void 0);
a.__decorate([n.reader("service","minScale")],r.prototype,"readMinScale",null);a.__decorate([f.property()],r.prototype,"maxScale",void 0);a.__decorate([n.reader("service","maxScale")],r.prototype,"readMaxScale",null);a.__decorate([f.property({type:C})],r.prototype,"spatialReference",void 0);a.__decorate([f.property({readOnly:!0})],r.prototype,"supportsBlankTile",null);a.__decorate([f.property({type:e})],r.prototype,"tileInfo",void 0);a.__decorate([f.property()],r.prototype,"tilemapCache",void 0);
a.__decorate([n.reader("service","tilemapCache",["capabilities","tileInfo"])],r.prototype,"readTilemapCache",null);a.__decorate([f.property()],r.prototype,"version",void 0);return r=a.__decorate([d.subclass("esri.layers.mixins.ArcGISCachedService")],r)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TileInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/Point ../../geometry/SpatialReference ../../geometry/support/aaBoundingRect ../../geometry/support/spatialReferenceUtils ../../geometry/support/webMercatorUtils ./LOD ./TileKey".split(" "),
function(b,a,q,f,l,g,h,n,d,e,k,x,C,r,p,v,F,G){var H;a=new a.JSONMap({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});q=H=class extends q.JSONSupport{static create(z={}){const {resolutionFactor:D=1,scales:A,size:K=256,spatialReference:t=C.WebMercator,numLODs:y=24}=z;if(!p.isValid(t)){z=[];if(A)for(var w=0;w<A.length;w++){var E=
A[w];z.push(new F({level:w,scale:E,resolution:E}))}else for(w=5E-4,E=y-1;0<=E;E--)z.unshift(new F({level:E,scale:w,resolution:w})),w*=2;return new H({dpi:96,lods:z,origin:new x(0,0,t),size:[K,K],spatialReference:t})}w=p.getInfo(t);z=z.origin?new x({x:z.origin.x,y:z.origin.y,spatialReference:t}):w?new x({x:w.origin[0],y:w.origin[1],spatialReference:t}):new x({x:0,y:0,spatialReference:t});w=1/(39.37*f.getMetersPerUnitForSR(t)*96);E=[];if(A)for(var I=0;I<A.length;I++){var M=A[I];E.push(new F({level:I,
scale:M,resolution:M*w}))}else{var O=p.isGeographic(t)?512/K*5.916575275917094E8:256/K*5.91657527591555E8;I=Math.ceil(y/D);E.push(new F({level:0,scale:O,resolution:O*w}));for(M=1;M<I;M++)O/=2**D,E.push(new F({level:M,scale:O,resolution:O*w}))}return new H({dpi:96,lods:E,origin:z,size:[K,K],spatialReference:t})}constructor(z){super(z);this.dpi=96;this.spatialReference=this.size=this.origin=this.format=null}get isWrappable(){const {spatialReference:z,origin:D}=this;if(z&&D){const A=p.getInfo(z);return z.isWrappable&&
!!A&&Math.abs(A.origin[0]-D.x)<=A.dx}return!1}readOrigin(z,D){return x.fromJSON({spatialReference:D.spatialReference,...z})}set lods(z){const D=[],A=this._levelToLOD={};z&&z.forEach(K=>{D.push(K.scale);A[K.level]=K});this._set("scales",D);this._set("lods",z);this._initializeUpsampleLevels()}readSize(z,D){return[D.cols,D.rows]}writeSize(z,D){D.cols=z[0];D.rows=z[1]}zoomToScale(z){const D=this.scales;if(0>=z)return D[0];if(z>=D.length-1)return D[D.length-1];const A=Math.floor(z);return D[A]/(D[A]/D[A+
1])**(z-A)}scaleToZoom(z){const D=this.scales,A=D.length-1;let K=0;for(;K<A;K++){const t=D[K],y=D[K+1];if(t<=z)break;if(y===z)return K+1;if(t>z&&y<z)return K+Math.log(t/z)/Math.log(t/y)}return K}snapScale(z,D=.95){z=this.scaleToZoom(z);return z%Math.floor(z)>=D?this.zoomToScale(Math.ceil(z)):this.zoomToScale(Math.floor(z))}tileAt(z,D,A,K){var t=this.lodAt(z);if(!t)return null;let y;if("number"===typeof D)y=D,D=A;else{if(p.equals(D.spatialReference,this.spatialReference))y=D.x,D=D.y;else{K=v.project(D,
this.spatialReference);if(null==K)return null;y=K.x;D=K.y}K=A}A=t.resolution*this.size[0];t=t.resolution*this.size[1];K||=new G.TileKey(null,0,0,0,r.create());K.level=z;K.row=Math.floor((this.origin.y-D)/t+.001);K.col=Math.floor((y-this.origin.x)/A+.001);this.updateTileInfo(K);return K}updateTileInfo(z,D=H.ExtrapolateOptions.NONE){var A=this.lodAt(z.level);A||D!==H.ExtrapolateOptions.POWER_OF_TWO||(D=this.lods[this.lods.length-1],D.level<z.level&&(A=D));if(A){var K=z.level-A.level;D=A.resolution*
this.size[0]/2**K;A=A.resolution*this.size[1]/2**K;z.id=`${z.level}/${z.row}/${z.col}`;z.extent||(z.extent=r.create());z.extent[0]=this.origin.x+z.col*D;z.extent[1]=this.origin.y-(z.row+1)*A;z.extent[2]=z.extent[0]+D;z.extent[3]=z.extent[1]+A}}upsampleTile(z){const D=this._upsampleLevels[z.level];if(!D||-1===D.parentLevel)return!1;z.level=D.parentLevel;z.row=Math.floor(z.row/D.factor+.001);z.col=Math.floor(z.col/D.factor+.001);this.updateTileInfo(z);return!0}getTileBounds(z,D){var A=this.lodAt(D.level);
if(null==A)return null;var {resolution:K}=A;A=K*this.size[0];K*=this.size[1];z[0]=this.origin.x+D.col*A;z[1]=this.origin.y-(D.row+1)*K;z[2]=z[0]+A;z[3]=z[1]+K;return z}lodAt(z){return this._levelToLOD?.[z]??null}clone(){return H.fromJSON(this.write({}))}getOrCreateCompatible(z,D){if(256===this.size[0]&&256===this.size[1])return 256===z?this:null;const A=[],K=this.lods.length;for(let t=0;t<K;t++){const y=this.lods[t];A.push(new F({level:y.level,scale:y.scale,resolution:y.resolution*D}))}return new H({size:[z,
z],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:A})}_initializeUpsampleLevels(){const z=this.lods;this._upsampleLevels=[];let D=null;for(let A=0;A<z.length;A++){const K=z[A];this._upsampleLevels[K.level]={parentLevel:D?D.level:-1,factor:D?D.resolution/K.resolution:0};D=K}}};b.__decorate([l.property({type:Number,json:{write:!0}})],q.prototype,"compressionQuality",void 0);b.__decorate([l.property({type:Number,
json:{write:!0}})],q.prototype,"dpi",void 0);b.__decorate([l.property({type:String,json:{read:a.read,write:a.write,origins:{"web-scene":{read:!1,write:!1}}}})],q.prototype,"format",void 0);b.__decorate([l.property({readOnly:!0})],q.prototype,"isWrappable",null);b.__decorate([l.property({type:x,json:{write:!0}})],q.prototype,"origin",void 0);b.__decorate([d.reader("origin")],q.prototype,"readOrigin",null);b.__decorate([l.property({type:[F],value:null,json:{write:!0}})],q.prototype,"lods",null);b.__decorate([l.property({readOnly:!0})],
q.prototype,"scales",void 0);b.__decorate([l.property({cast:z=>Array.isArray(z)?z:"number"===typeof z?[z,z]:[256,256]})],q.prototype,"size",void 0);b.__decorate([d.reader("size",["rows","cols"])],q.prototype,"readSize",null);b.__decorate([k.writer("size",{cols:{type:g.Integer},rows:{type:g.Integer}})],q.prototype,"writeSize",null);b.__decorate([l.property({type:C,json:{write:!0}})],q.prototype,"spatialReference",void 0);q=H=b.__decorate([e.subclass("esri.layers.support.TileInfo")],q);(function(z){z=
z.ExtrapolateOptions||(z.ExtrapolateOptions={});z[z.NONE=0]="NONE";z[z.POWER_OF_TWO=1]="POWER_OF_TWO"})(q||={});return q})},"esri/layers/support/LOD":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(b,a,q,f,l,g,h){var n;a=n=class extends a.JSONSupport{constructor(d){super(d);this.cols=null;this.level=
0;this.origin=this.levelValue=null;this.resolution=0;this.rows=null;this.scale=0}clone(){return new n({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};b.__decorate([q.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],a.prototype,"cols",void 0);b.__decorate([q.property({type:f.Integer,json:{write:!0}})],a.prototype,"level",void 0);b.__decorate([q.property({type:String,json:{write:!0}})],
a.prototype,"levelValue",void 0);b.__decorate([q.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],a.prototype,"origin",void 0);b.__decorate([q.property({type:Number,json:{write:!0}})],a.prototype,"resolution",void 0);b.__decorate([q.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],a.prototype,"rows",void 0);b.__decorate([q.property({type:Number,json:{write:!0}})],a.prototype,"scale",void 0);
return a=n=b.__decorate([h.subclass("esri.layers.support.LOD")],a)})},"esri/layers/support/TileKey":function(){define(["exports"],function(b){class a{constructor(q,f,l,g,h){this.id=q;this.level=f;this.row=l;this.col=g;this.extent=h}}b.TileKey=a;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TileInfoTilemapCache":function(){define(["../../core/Error","../../core/promiseUtils"],function(b,a){class q{constructor(f,l=0,g=f.lods[f.lods.length-1].level){this.tileInfo=
f;this.minLOD=l;this.maxLOD=g;f.lodAt(l)||(this.minLOD=f.lods[0].level);f.lodAt(g)||(this.maxLOD=f.lods[f.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(f,l,g){const h=this.tileInfo?.lodAt(f);return!h||f<this.minLOD||f>this.maxLOD?"unavailable":h.cols&&h.rows?g>=h.cols[0]&&g<=h.cols[1]&&l>=h.rows[0]&&l<=h.rows[1]?"unknown":"unavailable":"unknown"}async fetchAvailability(f,
l,g,h){await a.waitTick(h);h=this.getAvailability(f,l,g);if("unavailable"===h)throw new b("tile-map:tile-unavailable","Tile is not available",{level:f,row:l,col:g});return h}async fetchAvailabilityUpsample(f,l,g,h,n){await a.waitTick(n);h.level=f;h.row=l;h.col=g;const d=this.tileInfo;d.updateTileInfo(h);return this.fetchAvailability(f,l,g,n).catch(e=>{if(a.isAbortError(e))throw e;if(d.upsampleTile(h))return this.fetchAvailabilityUpsample(h.level,h.row,h.col,h,n);throw e;})}}return q})},"esri/layers/support/TilemapCache":function(){define("exports ../../chunks/tslib.es6 ../../request ../../core/Accessor ../../core/ByteSizeUnit ../../core/Error ../../core/handleUtils ../../core/LRUCache ../../core/PooledArray ../../core/promiseUtils ../../core/reactiveUtils ../../core/scheduling ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./TileKey ./Tilemap".split(" "),
function(b,a,q,f,l,g,h,n,d,e,k,x,C,r,p,v,F,G,H,z){var D;b.TilemapCache=D=class extends f{constructor(A){super(A);this._pendingTilemapRequests={};this.request=q;this.size=32;this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new n.LRUCache(2*l.ByteSizeUnit.MEGABYTES);this.addHandles(k.watch(()=>{const {layer:A}=this;return[A?.parsedUrl,A?.tileServers,A?.apiKey,A?.customParameters]},()=>this._initializeTilemapDefinition(),k.initial))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??
this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}fetchTilemap(A,K,t,y){if(!this.layer.tileInfo.lodAt(A)||A<this.effectiveMinLOD||A>this.effectiveMaxLOD)return Promise.reject(new g("tilemap-cache:level-unavailable",`Level ${A} is unavailable in the service`));const w=this._tmpTilemapDefinition;if(A=this._tilemapFromCache(A,K,t,w))return Promise.resolve(A);const E=y?.signal;y={...y,signal:null};return new Promise((I,M)=>{e.onAbort(E,()=>M(e.createAbortError()));const O=z.tilemapDefinitionId(w);
let Q=this._pendingTilemapRequests[O];if(!Q){Q=z.Tilemap.fromDefinition(w,y).then(X=>{this._tilemapCache.put(O,X,X.byteSize);return X});const V=()=>{delete this._pendingTilemapRequests[O]};this._pendingTilemapRequests[O]=Q;Q.then(V,V)}Q.then(I,M)})}getAvailability(A,K,t){return!this.layer.tileInfo.lodAt(A)||A<this.effectiveMinLOD||A>this.effectiveMaxLOD?"unavailable":(A=this._tilemapFromCache(A,K,t,this._tmpTilemapDefinition))?A.getAvailability(K,t):"unknown"}fetchAvailability(A,K,t,y){return!this.layer.tileInfo.lodAt(A)||
A<this.effectiveMinLOD||A>this.effectiveMaxLOD?Promise.reject(new g("tile-map:tile-unavailable","Tile is not available",{level:A,row:K,col:t})):this.fetchTilemap(A,K,t,y).catch(w=>w).then(w=>{if(w instanceof z.Tilemap){w=w.getAvailability(K,t);if("unavailable"===w)throw new g("tile-map:tile-unavailable","Tile is not available",{level:A,row:K,col:t});return w}if(e.isAbortError(w))throw w;return"unknown"})}fetchAvailabilityUpsample(A,K,t,y,w){y.level=A;y.row=K;y.col=t;const E=this.layer.tileInfo;E.updateTileInfo(y);
const I=this.fetchAvailability(A,K,t,w).catch(M=>{if(e.isAbortError(M))throw M;if(E.upsampleTile(y))return this.fetchAvailabilityUpsample(y.level,y.row,y.col,y,w);throw M;});this._fetchAvailabilityUpsamplePrefetch(y.id,A,K,t,w,I);return I}async _fetchAvailabilityUpsamplePrefetch(A,K,t,y,w,E){if(this._prefetchingEnabled&&null!=A){var I=`prefetch-${A}`;if(!this.hasHandles(I)){var M=new AbortController;E.then(()=>M.abort(),()=>M.abort());var O=!1;E=h.makeHandle(()=>{O||(O=!0,M.abort())});this.addHandles(E,
I);await x.waitTicks(10,M.signal).catch(()=>{});O||(O=!0,this.removeHandles(I));if(!e.isAborted(M))for(A=new H.TileKey(A,K,t,y),w={...w,signal:M.signal},K=this.layer.tileInfo,t=0;D._prefetches.length<D._maxPrefetch&&K.upsampleTile(A);++t){const Q=this.fetchAvailability(A.level,A.row,A.col,w);D._prefetches.push(Q);y=()=>{D._prefetches.removeUnordered(Q)};Q.then(y,y)}}}}_initializeTilemapDefinition(){if(this.layer.parsedUrl){var {parsedUrl:A,apiKey:K,customParameters:t}=this.layer;this._tilemapCache.clear();
this._tmpTilemapDefinition={service:{url:A.path,query:C.objectToQuery({...A.query,...t,token:K??A.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}}_tilemapFromCache(A,K,t,y){y.level=A;y.row=K-K%this.size;y.col=t-t%this.size;A=z.tilemapDefinitionId(y);return this._tilemapCache.get(A)}get test(){const A=this;return{get prefetchingEnabled(){return A._prefetchingEnabled},set prefetchingEnabled(K){A._prefetchingEnabled=K},hasTilemap(K,
t,y){return!!A._tilemapFromCache(K,t,y,A._tmpTilemapDefinition)}}}};b.TilemapCache._maxPrefetch=4;b.TilemapCache._prefetches=new d({initialSize:D._maxPrefetch});a.__decorate([r.property({constructOnly:!0})],b.TilemapCache.prototype,"layer",void 0);a.__decorate([r.property({constructOnly:!0})],b.TilemapCache.prototype,"minLOD",void 0);a.__decorate([r.property({constructOnly:!0})],b.TilemapCache.prototype,"maxLOD",void 0);a.__decorate([r.property({constructOnly:!0})],b.TilemapCache.prototype,"request",
void 0);a.__decorate([r.property({constructOnly:!0})],b.TilemapCache.prototype,"size",void 0);b.TilemapCache=D=a.__decorate([G.subclass("esri.layers.support.TilemapCache")],b.TilemapCache);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/ByteSizeUnit":function(){define(["exports"],function(b){b.ByteSizeUnit=void 0;var a=b.ByteSizeUnit||(b.ByteSizeUnit={});a[a.KILOBYTES=1024]="KILOBYTES";a[a.MEGABYTES=1048576]="MEGABYTES";a[a.GIGABYTES=1073741824]="GIGABYTES";Object.defineProperty(b,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Tilemap":function(){define("exports ../../request ../../core/arrayUtils ../../core/Error ../../core/lang ../../core/typedArrayUtil ../../geometry/support/UintArray".split(" "),function(b,a,q,f,l,g,h){function n(e){if(e.service.tileServers?.length){var k=e.service.tileServers;k=`${k&&k.length?k[e.row%k.length]:e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`}else k=`${e.service.url}/tilemap/${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`;
(e=e.service.query)&&(k=`${k}?${e}`);return k}class d{constructor(e){this._validateJSON(e);const {location:k,data:x}=e;this.location=Object.freeze(l.clone(k));let C=e=!0;const r=h.newUintArray(Math.ceil(this.location.width*this.location.height/32));let p=0;for(let v=0;v<x.length;v++){const F=v%32;x[v]?(C=!1,r[p]|=1<<F):e=!1;31===F&&++p}C?(this._availability="unavailable",this.byteSize=40):e?(this._availability="available",this.byteSize=40):(this._availability=r,this.byteSize=40+g.estimateSize(r))}getAvailability(e,
k){if("unavailable"===this._availability||"available"===this._availability)return this._availability;e=(e-this.location.top)*this.location.width+(k-this.location.left);k=e>>5;const x=this._availability;return 0>k||k>x.length?"unknown":x[k]&1<<e%32?"available":"unavailable"}static fromDefinition(e,k){const x=e.service.request||a,{row:C,col:r,width:p,height:v}=e,F={query:{f:"json"}};k=k?{...F,...k}:F;return x(n(e),k).then(G=>G.data).catch(G=>{if(G&&G.details&&422===G.details.httpStatus)return{location:{top:C,
left:r,width:p,height:v},valid:!0,data:q.constant(p*v,0)};throw G;}).then(G=>{if(G.location&&(G.location.top!==C||G.location.left!==r||G.location.width!==p||G.location.height!==v))throw new f("tilemap:location-mismatch","Tilemap response for different location than requested",{response:G,definition:{top:C,left:r,width:p,height:v}});return d.fromJSON(G)})}static fromJSON(e){return Object.freeze(new d(e))}_validateJSON(e){if(!e?.location)throw new f("tilemap:missing-location","Location missing from tilemap response");
if(!1===e.valid)throw new f("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new f("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new f("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new f("tilemap:data-mismatch","Number of data items does not match width/height of tilemap");}}b.Tilemap=d;b.tilemapDefinitionId=function(e){return`${e.level}/${e.row}/${e.col}/${e.width}/${e.height}`};
Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/UintArray":function(){define(["exports","../../core/typedArrayUtil"],function(b,a){b.newUintArray=function(q,f=!1){return q<=a.nativeArrayMaxSize?f?Array(q).fill(0):Array(q):new Uint32Array(q)};b.uintSubArray=function(q,f,l){return Array.isArray(q)?q.slice(f,f+l):q.subarray(f,f+l)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/imageUtils":function(){define(["exports"],function(b){let a=
null;b.checkWebPSupport=function(q){if(a)return a;const f={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA\x3d\x3d",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA\x3d\x3d",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return a=new Promise(l=>{const g=new Image;g.onload=
()=>{g.onload=g.onerror=null;l(0<g.width&&0<g.height)};g.onerror=()=>{g.onload=g.onerror=null;l(!1)};g.src="data:image/webp;base64,"+f[q]})};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/SpriteSource":function(){define(["../../request","../../core/Error","../../core/Logger","../../core/typedArrayUtil","../../core/urlUtils"],function(b,a,q,f,l){function g(n){var d=document.createElement("canvas");const e=d.getContext("2d");d.width=n.width;d.height=n.height;e.drawImage(n,
0,0,n.width,n.height);d=e.getImageData(0,0,n.width,n.height);return{width:n.width,height:n.height,data:new Uint8Array(d.data)}}class h{constructor(n,d){this._spriteSource=n;this._maxTextureSize=d;this.devicePixelRatio=1;this._spriteImageFormat="png";this._isRetina=!1;this._spritesData={};this.height=this.width=this.image=null;this.loadStatus="not-loaded";"url"===n.type&&n.spriteFormat&&(this._spriteImageFormat=n.spriteFormat);n.pixelRatio&&(this.devicePixelRatio=n.pixelRatio);this.baseURL=n.spriteUrl}get spriteNames(){const n=
[];for(const d in this._spritesData)n.push(d);n.sort();return n}getSpriteInfo(n){return this._spritesData?this._spritesData[n]:null}async load(n){if(this.baseURL){this.loadStatus="loading";try{await this._loadSprites(n),this.loadStatus="loaded"}catch{this.loadStatus="failed"}}else this.loadStatus="failed"}async _loadSprites(n){this._isRetina=1.15<this.devicePixelRatio;const {width:d,height:e,data:k,json:x}=await this._getSpriteData(this._spriteSource,n);if((n=Object.keys(x))&&0!==n.length&&k){this._spritesData=
x;this.width=d;this.height=e;n=Math.max(this._maxTextureSize,4096);if(d>n||e>n)throw n=`Sprite resource for style ${this.baseURL} is bigger than the maximum allowed of ${n} pixels}`,q.getLogger("esri.layers.support.SpriteSource").error(n),new a("SpriteSource",n);for(let C=0;C<k.length;C+=4)n=k[C+3]/255,k[C]*=n,k[C+1]*=n,k[C+2]*=n;this.image=k}else this._spritesData=this.image=null,this.width=this.height=0}async _getSpriteData(n,d){if("image"===n.type){if(1.15>this.devicePixelRatio){if(!n.spriteSource1x)throw new a("SpriteSource",
"no image data provided for low resolution sprites!");d=n.spriteSource1x.image;n=n.spriteSource1x.json}else{if(!n.spriteSource2x)throw new a("SpriteSource","no image data provided for high resolution sprites!");d=n.spriteSource2x.image;n=n.spriteSource2x.json}return"width"in d&&"height"in d&&"data"in d&&(f.isArrayBuffer(d.data)||f.isUint8ClampedArray(d.data))?{width:d.width,height:d.height,data:new Uint8Array(d.data),json:n}:{...g(d),json:n}}n=l.urlToObject(this.baseURL);const e=n.query?"?"+l.objectToQuery(n.query):
"",k=this._isRetina?"@2x":"",x=`${n.path}${k}.${this._spriteImageFormat}${e}`,[C,r]=await Promise.all([b(`${n.path}${k}.json${e}`,d),b(x,{responseType:"image",...d})]);return{...g(r.data),json:C.data}}}return h})},"esri/layers/support/vectorTileLayerLoader":function(){define("exports ../../request ../../core/lang ../../core/promiseUtils ../../core/urlUtils ../../geometry/support/spatialReferenceUtils ../../geometry/support/webMercatorUtils ../../views/2d/engine/vectorTiles/style/VectorTileSource".split(" "),
function(b,a,q,f,l,g,h,n){function d(...r){let p=void 0;for(const v of r)null!=v&&(l.isProtocolRelative(v)?p&&=p.split("://")[0]+":"+v.trim():p=l.isAbsolute(v)?v:l.join(p,v));return p?l.removeTrailingSlash(p):void 0}async function e(r,p,v,F,G){f.throwIfAborted(G);let H,z;if("string"===typeof v){v=l.normalize(v);var D=await a(v,{...G,responseType:"json",query:{f:"json",...G?.query}});D.ssl&&(H&&=H.replace(/^http:/i,"https:"),z&&=z.replace(/^http:/i,"https:"));z=H=v}else null!=v&&(D={data:v},H=v.jsonUrl||
null,z=F);if((D=D?.data)&&"sources"in D&&D.sources)return r.styleUrl=H||null,x(r,D,z,G);if(!(D&&"sources"in D&&D.sources))return r.sourceUrl?C(r,D,z,!1,p,G):(r.sourceUrl=H||null,C(r,D,z,!0,p,G));throw Error("You must specify the URL or the JSON for a service or for a style.");}function k(r){return"object"===typeof r&&!!r&&"tilejson"in r&&null!=r.tilejson}async function x(r,p,v,F){v=v?l.removeFile(v):l.getAppBaseUrl();r.styleBase=v;r.style=p;p["sprite-format"]&&"webp"===p["sprite-format"].toLowerCase()&&
(r.spriteFormat="webp");const G=[];if(p.sources&&p.sources.esri){const H=p.sources.esri;H.url?await e(r,"esri",d(v,H.url),void 0,F):G.push(e(r,"esri",H,v,F))}for(const H of Object.keys(p.sources))"esri"!==H&&"vector"===p.sources[H].type&&(p.sources[H].url?G.push(e(r,H,d(v,p.sources[H].url),void 0,F)):p.sources[H].tiles&&G.push(e(r,H,p.sources[H],v,F)));await Promise.all(G)}async function C(r,p,v,F,G,H){v=v?l.removeTrailingSlash(v)+"/":l.getAppBaseUrl();if(p.hasOwnProperty("tileInfo"))var z=p;else{z=
{xmin:-2.0037507067161843E7,ymin:-2.0037507067161843E7,xmax:2.0037507067161843E7,ymax:2.0037507067161843E7,spatialReference:{wkid:102100,latestWkid:3857}};var D=null;if(k(p)){var {bounds:A}=p;A&&(D=h.geographicToWebMercator({x:A[0],y:A[1],spatialReference:q.clone(g.wgs84)}),A=h.geographicToWebMercator({x:A[2],y:A[3],spatialReference:q.clone(g.wgs84)}),D={xmin:D.x,ymin:D.y,xmax:A.x,ymax:A.y,spatialReference:q.clone(g.webMercator)})}null===D&&(D=z);A=78271.51696400007;var K=2.958287637957775E8,t=[],
y=p.hasOwnProperty("maxzoom")&&null!=p.maxzoom?+p.maxzoom:22;for(let w=0;w<=y;w++)t.push({level:w,scale:K,resolution:A}),A/=2,K/=2;z={capabilities:"TilesOnly",initialExtent:D,fullExtent:z,minScale:0,maxScale:0,tiles:p.tiles,tileInfo:{rows:512,cols:512,dpi:96,format:"pbf",origin:{x:-2.0037508342787E7,y:2.0037508342787E7},lods:t,spatialReference:q.clone(g.webMercator)}}}D=new n(G,l.addQueryParameters(v,H?.query??{}),z);if(!F&&r.primarySourceName in r.sourceNameToSource){A=r.sourceNameToSource[r.primarySourceName];
if(!A.isCompatibleWith(D))return;null!=D.fullExtent&&(null!=A.fullExtent?A.fullExtent.union(D.fullExtent):A.fullExtent=D.fullExtent.clone());A.tileInfo&&D.tileInfo&&A.tileInfo.lods.length<D.tileInfo.lods.length&&(A.tileInfo=D.tileInfo)}F&&(r.sourceBase=v,r.source=p,r.validatedSource=z,r.primarySourceName=G);r.sourceNameToSource[G]=D;if(!k(r)&&"defaultStyles"in p&&!r.style){if(null==p.defaultStyles)throw Error();return"string"===typeof p.defaultStyles?e(r,"",d(v,p.defaultStyles,"root.json"),void 0,
H):e(r,"",p.defaultStyles,d(v,"root.json"),H)}}b.loadMetadata=async function(r,p){const v={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:"",spriteFormat:"png"},[F,G]="string"===typeof r?[r,null]:[null,r.jsonUrl];await e(v,"esri",r,G,p);return{layerDefinition:v.validatedSource,url:F,serviceUrl:v.sourceUrl,style:v.style,styleUrl:v.styleUrl,spriteUrl:v.style.sprite&&d(v.styleBase,v.style.sprite),spriteFormat:v.spriteFormat,
glyphsUrl:v.style.glyphs&&d(v.styleBase,v.style.glyphs),sourceNameToSource:v.sourceNameToSource,primarySourceName:v.primarySourceName}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/VectorTileSource":function(){define("../../../../../core/lang ../../../../../core/urlUtils ../../../../../geometry/Extent ../../../../../layers/support/TileInfo ../../../../../layers/support/TilemapCache ../TilemapIndex ../TilemapRequest ./VectorTilesRequestManager".split(" "),
function(b,a,q,f,l,g,h,n){class d{constructor(e,k,x){this.initialExtent=this.fullExtent=this.capabilities=this.tileInfo=this.tilemap=null;this.name=e;this.sourceUrl=k;e=a.urlToObject(this.sourceUrl);k=b.clone(x);var C=k.tiles;if(e)for(var r=0;r<C.length;r++){var p=a.urlToObject(C[r]);p&&(a.isAbsolute(p.path)||(p.path=a.join(e.path,p.path)),C[r]=a.addQueryParameters(p.path,{...e.query,...p.query}))}this.tileServers=C;r=x.capabilities&&x.capabilities.split(",").map(v=>v.toLowerCase().trim());C=!0===
x?.exportTilesAllowed;r=!0===r?.includes("tilemap");p=C&&x.hasOwnProperty("maxExportTilesCount")?x.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:C,supportsTileMap:r},exportTiles:C?{maxExportTilesCount:+p}:null};this.tileInfo=f.fromJSON(k.tileInfo);C=x.tileMap?a.addQueryParameters(a.join(e.path,x.tileMap),e.query??{}):null;r?(this.type="vector-tile",this.tilemap=new h(new l.TilemapCache({layer:{parsedUrl:e,tileInfo:this.tileInfo},minLOD:k.minLOD??this.tileInfo.lods[0].level,
maxLOD:k.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}),C)):C&&(this.tilemap=new g(C));this.fullExtent=q.fromJSON(x.fullExtent);this.initialExtent=q.fromJSON(x.initialExtent)}destroy(){this.tilemap?.destroy()}async getRefKey(e,k){return await this.tilemap?.dataKey(e,k)??e}requestTile(e,k,x,C){return n.request(this.tileServers[k%this.tileServers.length],e,k,x,C)}isCompatibleWith(e){var k=this.tileInfo;e=e.tileInfo;if(!k.spatialReference.equals(e.spatialReference)||!k.origin.equals(e.origin)||
Math.round(k.dpi)!==Math.round(e.dpi))return!1;k=k.lods;e=e.lods;const x=Math.min(k.length,e.length);for(let C=0;C<x;C++){const r=k[C],p=e[C];if(r.level!==p.level||Math.round(r.scale)!==Math.round(p.scale))return!1}return!0}}return d})},"esri/views/2d/engine/vectorTiles/TilemapIndex":function(){define(["../../../../request","../../../../core/promiseUtils","../../tiling/TileKey"],function(b,a,q){class f{constructor(l){this.url=l}destroy(){this._tileIndexPromise=null}async fetchTileIndex(){this._tileIndexPromise||
(this._tileIndexPromise=b(this.url).then(l=>l.data.index));return this._tileIndexPromise}async dataKey(l,g){const h=await this.fetchTileIndex();a.throwIfAborted(g);return this._getIndexedDataKey(h,l)}_getIndexedDataKey(l,g){const h=[g];if(0>g.level||0>g.row||0>g.col||0<g.row>>g.level||0<g.col>>g.level)return null;for(;0!==g.level;)g=new q(g.level-1,g.row>>1,g.col>>1,g.world),h.push(g);g=h.pop();let n,d;if(1===l)return g;for(;h.length;)if(n=h.pop(),d=(n.col&1)+((n.row&1)<<1),l){if(0===l[d]){g=null;
break}if(1===l[d]){g=n;break}g=n;l=l[d]}return g}}return f})},"esri/views/2d/tiling/TileKey":function(){define(["../../../core/ObjectPool"],function(b){class a{static getId(q,f,l,g){return"object"===typeof q?`${q.level}/${q.row}/${q.col}/${q.world}`:`${q}/${f}/${l}/${g}`}constructor(q,f,l,g){this.set(q,f,l,g)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(q){this.set(q)}get hash(){return(this.world&3)<<30|(this.col&4095)<<
22|(this.row&4095)<<8|this.level&63}acquire(q,f,l,g){this.set(q,f,l,g)}contains(q){const f=q.level-this.level;return 0<=f&&this.row===q.row>>f&&this.col===q.col>>f&&this.world===q.world}containsChild(q){const f=q.level-this.level;return 0<f&&this.row===q.row>>f&&this.col===q.col>>f&&this.world===q.world}equals(q){return this.level===q.level&&this.row===q.row&&this.col===q.col&&this.world===q.world}clone(){return new a(this)}release(){this.world=this.col=this.row=this.level=0}set(q,f,l,g){if(null==
q)this.world=this.col=this.row=this.level=0;else if("object"===typeof q)this.level=q.level||0,this.row=q.row||0,this.col=q.col||0,this.world=q.world||0;else if("string"===typeof q){const [h,n,d,e]=q.split("/");this.level=parseFloat(h);this.row=parseFloat(n);this.col=parseFloat(d);this.world=parseFloat(e)}else this.level=+q,this.row=+f,this.col=+l,this.world=+g||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return 0>=this.level?null:new a(this.level-
1,this.row>>1,this.col>>1,this.world)}getNeighborId(q,f){return`${this.level}/${this.row+f}/${this.col+q}/${this.world}`}getChildKeys(){const q=this.level+1,f=this.row<<1,l=this.col<<1,g=this.world;return[new a(q,f,l,g),new a(q,f,l+1,g),new a(q,f+1,l,g),new a(q,f+1,l+1,g)]}compareRowMajor(q){return this.row<q.row?-1:this.row>q.row?1:this.col<q.col?-1:this.col>q.col?1:0}}a.pool=new b(a,null,null,25,50);return a})},"esri/views/2d/engine/vectorTiles/TilemapRequest":function(){define(["../../../../request",
"../../../../core/maybe","../../../../core/promiseUtils","../../tiling/TileKey"],function(b,a,q,f){class l{constructor(g,h){this._tilemap=g;this._tileIndexUrl=h}destroy(){this._tilemap=a.destroyMaybe(this._tilemap);this._tileIndexPromise=null}async fetchTileIndex(g){this._tileIndexPromise||(this._tileIndexPromise=b(this._tileIndexUrl,{query:{...g?.query}}).then(h=>h.data.index));return this._tileIndexPromise}dataKey(g,h){const {level:n,row:d,col:e}=g,k=new f(g);return this._tilemap.fetchAvailabilityUpsample(n,
d,e,k,h).then(()=>{k.world=g.world;return k}).catch(x=>{if(q.isAbortError(x))throw x;return null})}}return l})},"esri/views/2d/engine/vectorTiles/style/VectorTilesRequestManager":function(){define("exports ../../../../../request ../../../../../core/lang ../../../../../core/MapUtils ../../../../../core/promiseUtils ../../../../../core/urlUtils".split(" "),function(b,a,q,f,l,g){function h(e,k){return f.getOrCreateMapValue(d,e,()=>new n(e)).getData(k).finally(()=>d.delete(e))}class n{constructor(e){this._tileUrl=
e;this._abortController=this._promise=null;this._abortOptions=[]}getData(e){if(null==this._promise||l.isAborted(this._abortController?.signal))this._promise=this._makeRequest(this._tileUrl);const k=this._abortOptions;k.push(e);l.onAbort(e,()=>{k.every(x=>l.isAborted(x))&&this._abortController.abort()});return this._promise.then(x=>q.clone(x))}async _makeRequest(e){this._abortController=new AbortController;({data:e}=await a(e,{responseType:"array-buffer",signal:this._abortController.signal}));return e}}
const d=new Map;b.request=function(e,k,x,C,r){e=g.urlToObject(e);const p=e.query;if(p)for(const [v,F]of Object.entries(p))switch(F){case "{x}":p[v]=C.toString();break;case "{y}":p[v]=x.toString();break;case "{z}":p[v]=k.toString()}k=g.addQueryParameters(e.path.replaceAll(/\{z\}/gi,k.toString()).replaceAll(/\{y\}/gi,x.toString()).replaceAll(/\{x\}/gi,C.toString()),{...e.query});return h(k,r)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/jsonContext":function(){define(["exports",
"../../core/urlUtils","../Portal"],function(b,a,q){function f(l,g){return{origin:g,url:a.urlToObject(l.itemUrl),portal:l.portal||q.getDefault(),portalItem:l}}b.createForItemRead=function(l,g){return{...f(l,g),readResourcePaths:[]}};b.createForItemWrite=function(l,g,h){const n=a.urlToObject(l.itemUrl);return{...f(l,g),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:n?{rootPath:n.path,writtenUrls:[]}:null,resources:h?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:
null}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/tileInfoUtils":function(){define(["exports","../../../../geometry/Point","../../../../layers/support/LOD","../../../../layers/support/TileInfo"],function(b,a,q,f){b.areSchemasOverlapping=function(l,g){if(l===g)return!0;if(null==l&&null!=g||null!=l&&null==g||null==l||null==g||!l.spatialReference.equals(g.spatialReference)||l.dpi!==g.dpi)return!1;var h=l.origin;const n=g.origin;if(1E-6<=Math.abs(h.x-
n.x)||1E-6<=Math.abs(h.y-n.y))return!1;l.lods[0].scale>g.lods[0].scale?(h=l,l=g):h=g;for(g=h.lods[0].scale;g>=l.lods[l.lods.length-1].scale-1E-6;g/=2)if(1E-6>Math.abs(g-l.lods[0].scale))return!0;return!1};b.unionTileInfos=function(l,g){if(l===g)return l;if(null==l&&null!=g)return g;if(null!=l&&null==g)return l;if(null==l||null==g)return null;const h=l.size[0],n=l.format,d=l.dpi,e=new a({x:l.origin.x,y:l.origin.y}),k=l.spatialReference;var x=l.lods[0].scale>g.lods[0].scale?l.lods[0]:g.lods[0];l=(l.lods[l.lods.length-
1].scale<=g.lods[g.lods.length-1].scale?l.lods[l.lods.length-1]:g.lods[g.lods.length-1]).scale;g=[];let C=x.scale;x=x.resolution;let r=0;for(;C>l;)g.push(new q({level:r,resolution:x,scale:C})),r++,C/=2,x/=2;return new f({size:[h,h],dpi:d,format:n||"pbf",origin:e,lods:g,spatialReference:k})};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["./StyleDefinition","./StyleLayer"],function(b,a){class q{constructor(f){this._style=
f;this.backgroundBucketIds=[];this._uidToLayer=new Map;this._layerByName={};this._runningId=0;f.layers||(f.layers=[]);this.version=parseFloat(f.version);if(this.layers=f.layers.map((l,g,h)=>this._create(l,g,h)).filter(l=>!!l))for(f=0;f<this.layers.length;f++){const l=this.layers[f];this._layerByName[l.id]=l;this._uidToLayer.set(l.uid,l);l.type===b.StyleLayerType.BACKGROUND&&this.backgroundBucketIds.push(l.id)}this._identifyRefLayers()}isPainterDataDriven(f){return(f=this._layerByName[f])?f.isPainterDataDriven():
!1}getStyleLayerId(f){return f>=this.layers.length?null:this.layers[f].id}getStyleLayerByUID(f){return this._uidToLayer.get(f)??null}getStyleLayerIndex(f){return(f=this._layerByName[f])?this.layers.indexOf(f):-1}setStyleLayer(f,l){if(f?.id){var g=this._style;null!=l&&l>=this.layers.length&&(l=this.layers.length-1);var h=!0,n;if(n=this._layerByName[f.id]){const d=this.layers.indexOf(n);l||=d;l===d?(h=!1,n=q._recreateLayer(f,n),this.layers[l]=n,g.layers[l]=f):(this.layers.splice(d,1),g.layers.splice(d,
1),n=this._create(f,l,this.layers),this.layers.splice(l,0,n),g.layers.splice(l,0,f))}else n=this._create(f,l,this.layers),!l||l>=this.layers.length?(this.layers.push(n),g.layers.push(f)):(this.layers.splice(l,0,n),g.layers.splice(l,0,f));this._layerByName[f.id]=n;this._uidToLayer.set(n.uid,n);h&&this._recomputeZValues();this._identifyRefLayers()}}getStyleLayer(f){return(f=this._layerByName[f])?{type:f.typeName,id:f.id,source:f.source,"source-layer":f.sourceLayer,minzoom:f.minzoom,maxzoom:f.maxzoom,
filter:f.filter,layout:f.layout,paint:f.paint}:null}deleteStyleLayer(f){const l=this._layerByName[f];l&&(delete this._layerByName[f],this._uidToLayer.delete(l.uid),f=this.layers.indexOf(l),this.layers.splice(f,1),this._style.layers.splice(f,1),this._recomputeZValues(),this._identifyRefLayers())}getLayerById(f){return this._layerByName[f]}getLayoutProperties(f){return(f=this._layerByName[f])?f.layout:null}getPaintProperties(f){return(f=this._layerByName[f])?f.paint:null}setPaintProperties(f,l){if(f=
this._layerByName[f]){var g=q._recreateLayer({type:f.typeName,id:f.id,source:f.source,"source-layer":f.sourceLayer,minzoom:f.minzoom,maxzoom:f.maxzoom,filter:f.filter,layout:f.layout,paint:l},f),h=this.layers.indexOf(f);this.layers[h]=g;this._style.layers[h].paint=l;this._layerByName[f.id]=g;this._uidToLayer.set(f.uid,g)}}setLayoutProperties(f,l){if(f=this._layerByName[f]){var g=q._recreateLayer({type:f.typeName,id:f.id,source:f.source,"source-layer":f.sourceLayer,minzoom:f.minzoom,maxzoom:f.maxzoom,
filter:f.filter,layout:l,paint:f.paint},f),h=this.layers.indexOf(f);this.layers[h]=g;this._style.layers[h].layout=l;this._layerByName[f.id]=g;this._uidToLayer.set(f.uid,g)}}setStyleLayerVisibility(f,l){if(f=this._layerByName[f]){var g=f.layout||{};g.visibility=l;l=q._recreateLayer({type:f.typeName,id:f.id,source:f.source,"source-layer":f.sourceLayer,minzoom:f.minzoom,maxzoom:f.maxzoom,filter:f.filter,layout:g,paint:f.paint},f);var h=this.layers.indexOf(f);this.layers[h]=l;this._style.layers[h].layout=
g;this._layerByName[f.id]=l;this._uidToLayer.set(f.uid,l)}}getStyleLayerVisibility(f){return(f=this._layerByName[f])?f.layout?.visibility??"visible":"none"}_recomputeZValues(){const f=this.layers,l=1/(f.length+1);for(let g=0;g<f.length;g++)f[g].z=1-(1+g)*l}_identifyRefLayers(){const f=[],l=[];let g=0;for(const d of this.layers){const e=d.layout;if(d.type===b.StyleLayerType.FILL){var h=d,n=d.source+"|"+d.sourceLayer;n+="|"+(e?.visibility??"");n+="|"+d.minzoom;n+="|"+d.maxzoom;n+="|"+JSON.stringify(d.filter);
if(h.hasDataDrivenFill||h.hasDataDrivenOutline)n+="|"+g;f.push({key:n,layer:d})}else if(d.type===b.StyleLayerType.LINE){h=d;n=d.paint;n=null!=n&&(null!=n["line-pattern"]||null!=n["line-dasharray"]);let k=d.source+"|"+d.sourceLayer;k+="|"+(e?.visibility??"");k+="|"+d.minzoom;k+="|"+d.maxzoom;k+="|"+JSON.stringify(d.filter);k+="|"+(void 0!==e?e["line-cap"]:"");k+="|"+(void 0!==e?e["line-join"]:"");if(h.hasDataDrivenLine||n)k+="|"+g;l.push({key:k,layer:d})}++g}this._assignRefLayers(f);this._assignRefLayers(l)}_assignRefLayers(f){f.sort((e,
k)=>e.key<k.key?-1:e.key>k.key?1:0);let l,g;const h=f.length;for(let e=0;e<h;e++){const k=f[e];if(k.key===l)k.layer.refLayerId=g;else if(l=k.key,g=k.layer.id,k.layer.type===b.StyleLayerType.FILL){if(!k.layer.getPaintProperty("fill-outline-color"))for(var n=e+1;n<h;n++){var d=f[n];if(d.key===l){if(d.layer.getPaintProperty("fill-outline-color")){f[e]=d;f[n]=k;g=d.layer.id;break}}else break}}else if(k.layer.type===b.StyleLayerType.LINE)for(n=k.layer,d=e+1;d<h;d++){const x=f[d];if(x.key!==l)break;const C=
x.layer;if(n.canUseThinTessellation&&!C.canUseThinTessellation||!n.canUseThinTessellation&&(C.getPaintProperty("line-pattern")||C.getPaintProperty("line-dasharray")))n=C,f[e]=x,f[d]=k,g=x.layer.id}}}_create(f,l,g){l=1-1/(g.length+1)*(1+l);g=this._runningId++;switch(f.type){case "background":return new a.BackgroundStyleLayer(b.StyleLayerType.BACKGROUND,f,l,g);case "fill":return new a.FillStyleLayer(b.StyleLayerType.FILL,f,l,g);case "line":return new a.LineStyleLayer(b.StyleLayerType.LINE,f,l,g);case "symbol":return new a.SymbolStyleLayer(b.StyleLayerType.SYMBOL,
f,l,g);case "raster":console.warn(`Unsupported vector tile raster layer ${f.id}`);break;case "circle":return new a.CircleStyleLayer(b.StyleLayerType.CIRCLE,f,l,g)}return null}static _recreateLayer(f,l){switch(f.type){case "background":return new a.BackgroundStyleLayer(b.StyleLayerType.BACKGROUND,f,l.z,l.uid);case "fill":return new a.FillStyleLayer(b.StyleLayerType.FILL,f,l.z,l.uid);case "line":return new a.LineStyleLayer(b.StyleLayerType.LINE,f,l.z,l.uid);case "symbol":return new a.SymbolStyleLayer(b.StyleLayerType.SYMBOL,
f,l.z,l.uid);case "raster":console.warn(`Unsupported vector tile raster layer ${f.id}`);break;case "circle":return new a.CircleStyleLayer(b.StyleLayerType.CIRCLE,f,l.z,l.uid)}return null}}return q})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["exports","../../../../../symbols/cim/enums"],function(b,a){b.StyleLayerType=void 0;(function(f){f[f.BACKGROUND=0]="BACKGROUND";f[f.FILL=1]="FILL";f[f.LINE=2]="LINE";f[f.SYMBOL=3]="SYMBOL";f[f.CIRCLE=4]="CIRCLE"})(b.StyleLayerType||
(b.StyleLayerType={}));b.Visibility=void 0;(function(f){f[f.VISIBLE=0]="VISIBLE";f[f.NONE=1]="NONE"})(b.Visibility||(b.Visibility={}));b.SymbolPlacement=void 0;(function(f){f[f.POINT=0]="POINT";f[f.LINE=1]="LINE";f[f.LINE_CENTER=2]="LINE_CENTER"})(b.SymbolPlacement||(b.SymbolPlacement={}));b.RotationAlignment=void 0;(function(f){f[f.MAP=0]="MAP";f[f.VIEWPORT=1]="VIEWPORT";f[f.AUTO=2]="AUTO"})(b.RotationAlignment||(b.RotationAlignment={}));b.TextJustification=void 0;(function(f){f[f.AUTO=0]="AUTO";
f[f.LEFT=1]="LEFT";f[f.CENTER=2]="CENTER";f[f.RIGHT=3]="RIGHT"})(b.TextJustification||(b.TextJustification={}));b.SymbolAnchor=void 0;(function(f){f[f.CENTER=0]="CENTER";f[f.LEFT=1]="LEFT";f[f.RIGHT=2]="RIGHT";f[f.TOP=3]="TOP";f[f.BOTTOM=4]="BOTTOM";f[f.TOP_LEFT=5]="TOP_LEFT";f[f.TOP_RIGHT=6]="TOP_RIGHT";f[f.BOTTOM_LEFT=7]="BOTTOM_LEFT";f[f.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"})(b.SymbolAnchor||(b.SymbolAnchor={}));b.TextTransform=void 0;(function(f){f[f.NONE=0]="NONE";f[f.UPPERCASE=1]="UPPERCASE";f[f.LOWERCASE=
2]="LOWERCASE"})(b.TextTransform||(b.TextTransform={}));b.TranslateAnchor=void 0;(function(f){f[f.MAP=0]="MAP";f[f.VIEWPORT=1]="VIEWPORT"})(b.TranslateAnchor||(b.TranslateAnchor={}));b.TextWritingMode=void 0;(function(f){f[f.HORIZONTAL=0]="HORIZONTAL";f[f.VERTICAL=1]="VERTICAL"})(b.TextWritingMode||(b.TextWritingMode={}));class q{}q.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE}};q.fillLayoutDefinition={visibility:{type:"enum",values:["visible",
"none"],default:b.Visibility.VISIBLE}};q.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:a.CapType.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:a.JoinType.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};q.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE},
"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:b.SymbolPlacement.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:b.SymbolAnchor.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},
"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:b.RotationAlignment.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",
values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:b.SymbolAnchor.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:b.TextJustification.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},
"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:b.RotationAlignment.AUTO},"text-size":{type:"number",minimum:0,default:16},
"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:b.TextTransform.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[b.TextWritingMode.HORIZONTAL]}};q.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE}};q.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}};
q.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP}};q.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",
default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP},"line-width":{type:"number",minimum:0,default:1}};q.symbolPaintDefinition={"icon-color":{type:"color",
default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},
"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP}};q.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",
minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};q.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",
minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP}};b.StyleDefinition=q;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/enums":function(){define(["exports"],
function(b){b.CapType=void 0;(function(a){a[a.BUTT=0]="BUTT";a[a.ROUND=1]="ROUND";a[a.SQUARE=2]="SQUARE";a[a.UNKNOWN=4]="UNKNOWN"})(b.CapType||(b.CapType={}));b.JoinType=void 0;(function(a){a[a.BEVEL=0]="BEVEL";a[a.ROUND=1]="ROUND";a[a.MITER=2]="MITER";a[a.UNKNOWN=4]="UNKNOWN"})(b.JoinType||(b.JoinType={}));b.Alignment=void 0;(function(a){a[a.SCREEN=0]="SCREEN";a[a.MAP=1]="MAP"})(b.Alignment||(b.Alignment={}));b.ExternalColorMixMode=void 0;(function(a){a[a.Tint=0]="Tint";a[a.Ignore=1]="Ignore";a[a.Multiply=
99]="Multiply"})(b.ExternalColorMixMode||(b.ExternalColorMixMode={}));b.ExtremityPlacement=void 0;(function(a){a.Both="Both";a.JustBegin="JustBegin";a.JustEnd="JustEnd";a.None="None"})(b.ExtremityPlacement||(b.ExtremityPlacement={}));b.FillMode=void 0;(function(a){a[a.Mosaic=0]="Mosaic";a[a.Centered=1]="Centered"})(b.FillMode||(b.FillMode={}));b.FontEffects=void 0;(function(a){a[a.Normal=0]="Normal";a[a.Superscript=1]="Superscript";a[a.Subscript=2]="Subscript"})(b.FontEffects||(b.FontEffects={}));
b.FontEncoding=void 0;(function(a){a[a.MSSymbol=0]="MSSymbol";a[a.Unicode=1]="Unicode"})(b.FontEncoding||(b.FontEncoding={}));b.FontType=void 0;(function(a){a[a.Unspecified=0]="Unspecified";a[a.TrueType=1]="TrueType";a[a.PSOpenType=2]="PSOpenType";a[a.TTOpenType=3]="TTOpenType";a[a.Type1=4]="Type1"})(b.FontType||(b.FontType={}));b.AngleAlignment=void 0;(function(a){a[a.Display=0]="Display";a[a.Map=1]="Map"})(b.AngleAlignment||(b.AngleAlignment={}));b.AnimatedSymbolRepeatType=void 0;(function(a){a.None=
"None";a.Loop="Loop";a.Oscillate="Oscillate"})(b.AnimatedSymbolRepeatType||(b.AnimatedSymbolRepeatType={}));b.DominantSizeAxis=void 0;(function(a){a[a.Z=0]="Z";a[a.X=1]="X";a[a.Y=2]="Y"})(b.DominantSizeAxis||(b.DominantSizeAxis={}));b.RotationOrder=void 0;(function(a){a[a.XYZ=0]="XYZ";a[a.ZXY=1]="ZXY";a[a.YXZ=2]="YXZ"})(b.RotationOrder||(b.RotationOrder={}));b.BalloonCalloutStyle=void 0;(function(a){a[a.Rectangle=0]="Rectangle";a[a.RoundedRectangle=1]="RoundedRectangle";a[a.Oval=2]="Oval"})(b.BalloonCalloutStyle||
(b.BalloonCalloutStyle={}));b.BlendingMode=void 0;(function(a){a[a.None=0]="None";a[a.Alpha=1]="Alpha";a[a.Screen=2]="Screen";a[a.Multiply=3]="Multiply";a[a.Add=4]="Add"})(b.BlendingMode||(b.BlendingMode={}));b.BlockProgression=void 0;(function(a){a[a.TTB=0]="TTB";a[a.RTL=1]="RTL";a[a.BTT=2]="BTT"})(b.BlockProgression||(b.BlockProgression={}));b.BillBoardMode=void 0;(function(a){a[a.None=0]="None";a[a.SignPost=1]="SignPost";a[a.FaceNearPlane=2]="FaceNearPlane"})(b.BillBoardMode||(b.BillBoardMode=
{}));b.CGAAttributeType=void 0;(function(a){a[a.Float=0]="Float";a[a.String=1]="String";a[a.Boolean=2]="Boolean"})(b.CGAAttributeType||(b.CGAAttributeType={}));b.ClippingType=void 0;(function(a){a[a.Intersect=0]="Intersect";a[a.Subtract=1]="Subtract"})(b.ClippingType||(b.ClippingType={}));b.GeometricEffectArrowType=void 0;(function(a){a.OpenEnded="OpenEnded";a.Block="Block";a.Crossed="Crossed"})(b.GeometricEffectArrowType||(b.GeometricEffectArrowType={}));b.GeometricEffectControlMeasureLineRule=void 0;
(function(a){a.FullGeometry="FullGeometry";a.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment";a.ReversedFirstSegment="ReversedFirstSegment";a.PerpendicularToSecondSegment="PerpendicularToSecondSegment";a.SecondSegmentWithTicks="SecondSegmentWithTicks";a.DoublePerpendicular="DoublePerpendicular";a.OppositeToFirstSegment="OppositeToFirstSegment";a.TriplePerpendicular="TriplePerpendicular";a.HalfCircleFirstSegment="HalfCircleFirstSegment";a.HalfCircleSecondSegment="HalfCircleSecondSegment";
a.HalfCircleExtended="HalfCircleExtended";a.OpenCircle="OpenCircle";a.CoverageEdgesWithTicks="CoverageEdgesWithTicks";a.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks";a.GapExtentMidline="GapExtentMidline";a.Chevron="Chevron";a.PerpendicularWithArc="PerpendicularWithArc";a.ClosedHalfCircle="ClosedHalfCircle";a.TripleParallelExtended="TripleParallelExtended";a.ParallelWithTicks="ParallelWithTicks";a.Parallel="Parallel";a.PerpendicularToFirstSegment="PerpendicularToFirstSegment";a.ParallelOffset=
"ParallelOffset";a.OffsetOpposite="OffsetOpposite";a.OffsetSame="OffsetSame";a.CircleWithArc="CircleWithArc";a.DoubleJog="DoubleJog";a.PerpendicularOffset="PerpendicularOffset";a.LineExcludingLastSegment="LineExcludingLastSegment";a.MultivertexArrow="MultivertexArrow";a.CrossedArrow="CrossedArrow";a.ChevronArrow="ChevronArrow";a.ChevronArrowOffset="ChevronArrowOffset";a.PartialFirstSegment="PartialFirstSegment";a.Arch="Arch";a.CurvedParallelTicks="CurvedParallelTicks";a.Arc90Degrees="Arc90Degrees"})(b.GeometricEffectControlMeasureLineRule||
(b.GeometricEffectControlMeasureLineRule={}));b.GeometricEffectDonutMethod=void 0;(function(a){a.Mitered="Mitered";a.Bevelled="Bevelled";a.Rounded="Rounded";a.Square="Square";a.TrueBuffer="TrueBuffer"})(b.GeometricEffectDonutMethod||(b.GeometricEffectDonutMethod={}));b.GeometricEffectEnclosingPolygonMethod=void 0;(function(a){a.ClosePath="ClosePath";a.ConvexHull="ConvexHull";a.RectangularBox="RectangularBox"})(b.GeometricEffectEnclosingPolygonMethod||(b.GeometricEffectEnclosingPolygonMethod={}));
b.GeometricEffectExtensionOrigin=void 0;(function(a){a.BeginningOfLine="BeginningOfLine";a.EndOfLine="EndOfLine"})(b.GeometricEffectExtensionOrigin||(b.GeometricEffectExtensionOrigin={}));b.GeometricEffectOffsetMethod=void 0;(function(a){a.Mitered="Mitered";a.Bevelled="Bevelled";a.Rounded="Rounded";a.Square="Square"})(b.GeometricEffectOffsetMethod||(b.GeometricEffectOffsetMethod={}));b.GeometricEffectOffsetOption=void 0;(function(a){a.Fast="Fast";a.Accurate="Accurate"})(b.GeometricEffectOffsetOption||
(b.GeometricEffectOffsetOption={}));b.GeometricEffectOffsetTangentMethod=void 0;(function(a){a.BeginningOfLine="BeginningOfLine";a.EndOfLine="EndOfLine"})(b.GeometricEffectOffsetTangentMethod||(b.GeometricEffectOffsetTangentMethod={}));b.GeometricEffectWaveform=void 0;(function(a){a.Sinus="Sinus";a.Square="Square";a.Triangle="Triangle";a.Random="Random"})(b.GeometricEffectWaveform||(b.GeometricEffectWaveform={}));b.GlyphHinting=void 0;(function(a){a[a.None=0]="None";a[a.Default=1]="Default";a[a.Force=
2]="Force"})(b.GlyphHinting||(b.GlyphHinting={}));b.GradientAlignment=void 0;(function(a){a[a.Buffered=0]="Buffered";a[a.Left=1]="Left";a[a.Right=2]="Right";a[a.AlongLine=3]="AlongLine"})(b.GradientAlignment||(b.GradientAlignment={}));b.GradientFillMethod=void 0;(function(a){a[a.Linear=0]="Linear";a[a.Rectangular=1]="Rectangular";a[a.Circular=2]="Circular";a[a.Buffered=3]="Buffered"})(b.GradientFillMethod||(b.GradientFillMethod={}));b.GradientStrokeType=void 0;(function(a){a[a.Discrete=0]="Discrete";
a[a.Continuous=1]="Continuous"})(b.GradientStrokeType||(b.GradientStrokeType={}));b.GradientStrokeMethod=void 0;(function(a){a[a.AcrossLine=0]="AcrossLine";a[a.AloneLine=1]="AloneLine"})(b.GradientStrokeMethod||(b.GradientStrokeMethod={}));b.HorizontalAlignment=void 0;(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Center=2]="Center";a[a.Justify=3]="Justify"})(b.HorizontalAlignment||(b.HorizontalAlignment={}));b.LeaderLineStyle=void 0;(function(a){a[a.Base=0]="Base";a[a.MidPoint=1]="MidPoint";
a[a.ThreePoint=2]="ThreePoint";a[a.FourPoint=3]="FourPoint";a[a.Underline=4]="Underline";a[a.CircularCW=5]="CircularCW";a[a.CircularCCW=6]="CircularCCW"})(b.LeaderLineStyle||(b.LeaderLineStyle={}));b.LineCapStyle=void 0;(function(a){a.Butt="Butt";a.Round="Round";a.Square="Square"})(b.LineCapStyle||(b.LineCapStyle={}));b.LineDashEnding=void 0;(function(a){a.NoConstraint="NoConstraint";a.HalfPattern="HalfPattern";a.HalfGap="HalfGap";a.FullPattern="FullPattern";a.FullGap="FullGap";a.Custom="Custom"})(b.LineDashEnding||
(b.LineDashEnding={}));b.LineDecorationStyle=void 0;(function(a){a[a.None=-1]="None";a[a.Custom=0]="Custom";a[a.Circle=1]="Circle";a[a.OpenArrow=2]="OpenArrow";a[a.ClosedArrow=3]="ClosedArrow";a[a.Diamond=4]="Diamond"})(b.LineDecorationStyle||(b.LineDecorationStyle={}));b.LineGapType=void 0;(function(a){a[a.ExtraLeading=0]="ExtraLeading";a[a.Multiple=1]="Multiple";a[a.Exact=2]="Exact"})(b.LineGapType||(b.LineGapType={}));b.LineJoinStyle=void 0;(function(a){a.Bevel="Bevel";a.Round="Round";a.Miter=
"Miter"})(b.LineJoinStyle||(b.LineJoinStyle={}));b.ExpressionReturnType=void 0;(function(a){a[a.Default=0]="Default";a[a.String=1]="String";a[a.Numeric=2]="Numeric"})(b.ExpressionReturnType||(b.ExpressionReturnType={}));b.MarkerPlacementType=void 0;(function(a){a[a.InsidePolygon=0]="InsidePolygon";a[a.PolygonCenter=1]="PolygonCenter";a[a.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"})(b.MarkerPlacementType||(b.MarkerPlacementType={}));b.MaterialMode=void 0;(function(a){a[a.Tint=0]="Tint";a[a.Replace=
1]="Replace";a[a.Multiply=2]="Multiply"})(b.MaterialMode||(b.MaterialMode={}));b.PlacementClip=void 0;(function(a){a[a.ClipAtBoundary=0]="ClipAtBoundary";a[a.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary";a[a.DoNotTouchBoundary=2]="DoNotTouchBoundary";a[a.DoNotClip=3]="DoNotClip"})(b.PlacementClip||(b.PlacementClip={}));b.PlacementEndings=void 0;(function(a){a.NoConstraint="NoConstraint";a.WithMarkers="WithMarkers";a.WithFullGap="WithFullGap";a.WithHalfGap="WithHalfGap";a.Custom=
"Custom"})(b.PlacementEndings||(b.PlacementEndings={}));b.PlacementGridType=void 0;(function(a){a.Fixed="Fixed";a.Random="Random";a.RandomFixedQuantity="RandomFixedQuantity"})(b.PlacementGridType||(b.PlacementGridType={}));b.PlacementOnLineRelativeTo=void 0;(function(a){a.LineMiddle="LineMiddle";a.LineBeginning="LineBeginning";a.LineEnd="LineEnd";a.SegmentMidpoint="SegmentMidpoint"})(b.PlacementOnLineRelativeTo||(b.PlacementOnLineRelativeTo={}));b.PlacementPolygonCenterMethod=void 0;(function(a){a.OnPolygon=
"OnPolygon";a.CenterOfMass="CenterOfMass";a.BoundingBoxCenter="BoundingBoxCenter"})(b.PlacementPolygonCenterMethod||(b.PlacementPolygonCenterMethod={}));b.PlacementRandomlyAlongLineRandomization=void 0;(function(a){a[a.Low=0]="Low";a[a.Medium=1]="Medium";a[a.High=2]="High"})(b.PlacementRandomlyAlongLineRandomization||(b.PlacementRandomlyAlongLineRandomization={}));b.PlacementStepPosition=void 0;(function(a){a[a.MarkerCenter=0]="MarkerCenter";a[a.MarkerBounds=1]="MarkerBounds"})(b.PlacementStepPosition||
(b.PlacementStepPosition={}));b.PointSymbolCalloutScale=void 0;(function(a){a[a.None=0]="None";a[a.PropUniform=1]="PropUniform";a[a.PropNonuniform=2]="PropNonuniform";a[a.DifUniform=3]="DifUniform";a[a.DifNonuniform=4]="DifNonuniform"})(b.PointSymbolCalloutScale||(b.PointSymbolCalloutScale={}));b.Simple3DLineStyle=void 0;(function(a){a.Tube="Tube";a.Strip="Strip";a.Wall="Wall"})(b.Simple3DLineStyle||(b.Simple3DLineStyle={}));b.SizeVariationMethod=void 0;(function(a){a[a.Random=0]="Random";a[a.Increasing=
1]="Increasing";a[a.Decreasing=2]="Decreasing";a[a.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"})(b.SizeVariationMethod||(b.SizeVariationMethod={}));b.SymbolUnits=void 0;(function(a){a[a.Relative=0]="Relative";a[a.Absolute=1]="Absolute"})(b.SymbolUnits||(b.SymbolUnits={}));b.TextCase=void 0;(function(a){a[a.Normal=0]="Normal";a[a.LowerCase=1]="LowerCase";a[a.Allcaps=2]="Allcaps"})(b.TextCase||(b.TextCase={}));b.TextReadingDirection=void 0;(function(a){a[a.LTR=0]="LTR";a[a.RTL=1]="RTL"})(b.TextReadingDirection||
(b.TextReadingDirection={}));b.TextureFilter=void 0;(function(a){a.Draft="Draft";a.Picture="Picture";a.Text="Text"})(b.TextureFilter||(b.TextureFilter={}));b.VerticalAlignment=void 0;(function(a){a[a.Top=0]="Top";a[a.Center=1]="Center";a[a.Baseline=2]="Baseline";a[a.Bottom=3]="Bottom"})(b.VerticalAlignment||(b.VerticalAlignment={}));b.VerticalGlyphOrientation=void 0;(function(a){a[a.Right=0]="Right";a[a.Upright=1]="Upright"})(b.VerticalGlyphOrientation||(b.VerticalGlyphOrientation={}));b.WaterbodySize=
void 0;(function(a){a[a.Small=0]="Small";a[a.Medium=1]="Medium";a[a.Large=2]="Large"})(b.WaterbodySize||(b.WaterbodySize={}));b.WaveStrength=void 0;(function(a){a[a.Calm=0]="Calm";a[a.Rippled=1]="Rippled";a[a.Slight=2]="Slight";a[a.Moderate=3]="Moderate"})(b.WaveStrength||(b.WaveStrength={}));Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("exports ../../../../../geometry/support/aaBoundingRect ../enums ../GeometryUtils ../shaders/VTLBackgroundMaterial ../shaders/VTLCircleMaterial ../shaders/VTLFillMaterial ../shaders/VTLLineMaterial ../shaders/VTLSymbolMaterial ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),
function(b,a,q,f,l,g,h,n,d,e,k,x,C){function r(t){t=t?.getGeometry();if(null==t)return null;let y=Infinity,w=Infinity,E=-Infinity,I=-Infinity;for(const M of t)if(M)for(const O of M)y=Math.min(y,O.x),w=Math.min(w,O.y),E=Math.max(E,O.x),I=Math.max(I,O.y);return a.fromValues(y,w,E,I)}b.CapType=void 0;(function(t){t[t.BUTT=0]="BUTT";t[t.ROUND=1]="ROUND";t[t.SQUARE=2]="SQUARE";t[t.UNKNOWN=4]="UNKNOWN"})(b.CapType||(b.CapType={}));class p{constructor(t,y,w,E,I,M){this.layer=t;this.feature=y;this.bounds=
w;this.normalizationRatio=E;this.normalizationOffsetX=I;this.normalizationOffsetY=M}}class v{constructor(t,y,w,E){this.type=t;this.typeName=y.type;this.id=y.id;this.source=y.source;this.sourceLayer=y["source-layer"];this.minzoom=y.minzoom;this.maxzoom=y.maxzoom;this.filter=y.filter;this.layout=y.layout;this.paint=y.paint;this.z=w;this.uid=E;switch(t){case k.StyleLayerType.BACKGROUND:this._layoutDefinition=k.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=k.StyleDefinition.backgroundPaintDefinition;
break;case k.StyleLayerType.FILL:this._layoutDefinition=k.StyleDefinition.fillLayoutDefinition;this._paintDefinition=k.StyleDefinition.fillPaintDefinition;break;case k.StyleLayerType.LINE:this._layoutDefinition=k.StyleDefinition.lineLayoutDefinition;this._paintDefinition=k.StyleDefinition.linePaintDefinition;break;case k.StyleLayerType.SYMBOL:this._layoutDefinition=k.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=k.StyleDefinition.symbolPaintDefinition;break;case k.StyleLayerType.CIRCLE:this._layoutDefinition=
k.StyleDefinition.circleLayoutDefinition,this._paintDefinition=k.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}getFeatureFilter(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=e.createFilter(this.filter)}getLayoutProperty(t){return this._layoutProperties[t]}getPaintProperty(t){return this._paintProperties[t]}getLayoutValue(t,y,w){let E;const I=this._layoutProperties[t];I&&
(E=I.getValue(y,w));void 0===E&&(E=this._layoutDefinition[t]["default"]);return E}getPaintValue(t,y,w){let E;const I=this._paintProperties[t];I&&(E=I.getValue(y,w));void 0===E&&(E=this._paintDefinition[t]["default"]);return E}isPainterDataDriven(){const t=this._paintProperties;if(t)for(const y in t)if(t[y].isDataDriven)return!0;return!1}isIntersectingFeature(t,y,w,E,I,M,O){return!1}getFeatureInflatedBounds(t,y,w,E){return null}_parseLayout(t){const y={};for(const w in t){const E=this._layoutDefinition[w];
E&&(y[w]=new x(E,t[w]))}return y}_parsePaint(t){const y={};for(const w in t){const E=this._paintDefinition[w];E&&(y[w]=new x(E,t[w]))}return y}computeAttributesKey(t,y,w,E){let I=0,M=0;for(const O of y){y=3;if(!O||O!==E){const {isLayout:Q,isOptional:V}=w[O];y=Q?this.getLayoutProperty(O):this.getPaintProperty(O);y=y?.interpolator?2:y?.isDataDriven?1:V&&!y?3:0}M|=y<<I;I+=2}return M<<3|t}}class F extends v{constructor(t,y,w,E){super(t,y,w,E);this.backgroundMaterial=new l.VTLBackgroundMaterial(this.computeAttributesKey(q.ShaderProgramType.BACKGROUND,
l.VTLBackgroundMaterial.ATTRIBUTES,l.VTLBackgroundMaterial.ATTRIBUTES_INFO))}}class G extends v{constructor(t,y,w,E){super(t,y,w,E);t=this.getPaintProperty("fill-color");y=this.getPaintProperty("fill-opacity");w=this.getPaintProperty("fill-pattern");this.hasDataDrivenColor=t?.isDataDriven;this.hasDataDrivenOpacity=y?.isDataDriven;this.hasDataDrivenFill=this.hasDataDrivenColor||this.hasDataDrivenOpacity||w?.isDataDriven;y=this.getPaintProperty("fill-outline-color");this.outlineUsesFillColor=!y;this.hasDataDrivenOutlineColor=
y?.isDataDriven;this.hasDataDrivenOutline=y?y.isDataDriven:t?t.isDataDriven:!1;this.hasDataDrivenOutline=(y?this.hasDataDrivenOutlineColor:this.hasDataDrivenColor)||this.hasDataDrivenOpacity;this.fillMaterial=new h.VTLFillMaterial(this.computeAttributesKey(q.ShaderProgramType.FILL,h.VTLFillMaterial.ATTRIBUTES,h.VTLFillMaterial.ATTRIBUTES_INFO));this.outlineMaterial=new h.VTLOutlineMaterial(this.computeAttributesKey(q.ShaderProgramType.OUTLINE,this.outlineUsesFillColor?h.VTLOutlineMaterial.ATTRIBUTES_FILL:
h.VTLOutlineMaterial.ATTRIBUTES_OUTLINE,this.outlineUsesFillColor?h.VTLOutlineMaterial.ATTRIBUTES_INFO_FILL:h.VTLOutlineMaterial.ATTRIBUTES_INFO_OUTLINE),this.outlineUsesFillColor)}getFeatureInflatedBounds(t,y,w,E){w=r(t);if(!w)return null;t=this.getPaintValue("fill-translate",y,t);E*=Math.max(t[0],t[1]);w[0]-=E;w[2]-=E;w[1]+=E;w[3]+=E;return w}isIntersectingFeature(t,y,w,E,I,M,O){const Q=E.getGeometry();if(!Q)return!1;const V=8/O.normalizationRatio;t=t/O.normalizationRatio+O.normalizationOffsetX;
y=y/O.normalizationRatio+O.normalizationOffsetY;E=f.translateAnchor(this.getPaintValue("fill-translate",I,E),this.getPaintValue("fill-translate-anchor",I,E),M,8);t-=V*E.x;y-=V*E.y;return f.pointInPolygon(t,y,Q)?!0:f.distanceFromToPolylineWithinThreshold(t,y,Q,V*w)}}class H extends v{constructor(t,y,w,E){super(t,y,w,E);t=this.getPaintProperty("line-pattern");this.lineMaterial=new n.VTLLineMaterial(this.computeAttributesKey(q.ShaderProgramType.LINE,n.VTLLineMaterial.ATTRIBUTES,n.VTLLineMaterial.ATTRIBUTES_INFO,
t?"line-dasharray":""));this.hasDataDrivenLine=this.getPaintProperty("line-blur")?.isDataDriven||this.getPaintProperty("line-color")?.isDataDriven||this.getPaintProperty("line-gap-width")?.isDataDriven||this.getPaintProperty("line-offset")?.isDataDriven||this.getPaintProperty("line-opacity")?.isDataDriven||this.getPaintProperty("line-pattern")?.isDataDriven||this.getPaintProperty("line-dasharray")?.isDataDriven||this.getLayoutProperty("line-cap")?.isDataDriven||this.getPaintProperty("line-width")?.isDataDriven;
this.canUseThinTessellation=!1;!this.hasDataDrivenLine&&(t=this.getPaintProperty("line-width"),!t||"number"===typeof t&&.5*t<C.thinLineHalfWidthThreshold)&&(t=this.getPaintProperty("line-offset"),!t||"number"===typeof t&&0===t)&&(this.canUseThinTessellation=!0)}getDashKey(t,y){switch(y){case b.CapType.BUTT:y="Butt";break;case b.CapType.ROUND:y="Round";break;case b.CapType.SQUARE:y="Square";break;default:y="Butt"}return`dasharray-[${t.toString()}]-${y}`}getFeatureInflatedBounds(t,y,w,E){w=r(t);if(!w)return null;
var I=this.getPaintValue("line-translate",y,t);I=E*Math.max(I[0],I[1]);w[0]-=I;w[2]-=I;w[1]+=I;w[3]+=I;I=E*Math.abs(this.getPaintValue("line-offset",y,t)||0);t=this.getPaintValue("line-width",y,t);E*=t/2;w[0]-=I+E;w[1]-=I+E;w[2]+=I+E;w[3]+=I+E;return w}isIntersectingFeature(t,y,w,E,I,M,O){let Q=E.getGeometry();if(!Q)return!1;const V=8/O.normalizationRatio;t=t/O.normalizationRatio+O.normalizationOffsetX;y=y/O.normalizationRatio+O.normalizationOffsetY;M=f.translateAnchor(this.getPaintValue("line-translate",
I,E),this.getPaintValue("line-translate-anchor",I,E),M,8);t-=V*M.x;y-=V*M.y;M=V*this.getPaintValue("line-offset",I,E)||0;0!==M&&(Q=f.offsetLine(Q,-M));E=this.getPaintValue("line-width",I,E);return f.distanceFromToPolylineWithinThreshold(t,y,Q,V*(w+E/2))}}class z extends v{constructor(t,y,w,E){super(t,y,w,E);this.iconMaterial=new d.VTLIconMaterial(this.computeAttributesKey(q.ShaderProgramType.ICON,d.VTLIconMaterial.ATTRIBUTES,d.VTLIconMaterial.ATTRIBUTES_INFO));this.textMaterial=new d.VTLTextMaterial(this.computeAttributesKey(q.ShaderProgramType.TEXT,
d.VTLTextMaterial.ATTRIBUTES,d.VTLTextMaterial.ATTRIBUTES_INFO));this.hasDataDrivenIcon=this.getPaintProperty("icon-color")?.isDataDriven||this.getPaintProperty("icon-halo-blur")?.isDataDriven||this.getPaintProperty("icon-halo-color")?.isDataDriven||this.getPaintProperty("icon-halo-width")?.isDataDriven||this.getPaintProperty("icon-opacity")?.isDataDriven||this.getLayoutProperty("icon-size")?.isDataDriven;this.hasDataDrivenText=this.getPaintProperty("text-color")?.isDataDriven||this.getPaintProperty("text-halo-blur")?.isDataDriven||
this.getPaintProperty("text-halo-color")?.isDataDriven||this.getPaintProperty("text-halo-width")?.isDataDriven||this.getPaintProperty("text-opacity")?.isDataDriven||this.getLayoutProperty("text-size")?.isDataDriven}}class D extends v{constructor(t,y,w,E){super(t,y,w,E);this.circleMaterial=new g.VTLCircleMaterial(this.computeAttributesKey(q.ShaderProgramType.CIRCLE,g.VTLCircleMaterial.ATTRIBUTES,g.VTLCircleMaterial.ATTRIBUTES_INFO))}getFeatureInflatedBounds(t,y,w,E){w=r(t);if(!w)return null;var I=
this.getPaintValue("circle-translate",y,t);I=Math.max(I[0],I[1]);w[0]-=I;w[2]-=I;w[1]+=I;w[3]+=I;t=8*(this.getPaintValue("circle-radius",y,t)+this.getPaintValue("circle-stroke-width",y,t));E*=t/2;w[0]-=E;w[1]-=E;w[2]+=E;w[3]+=E;return w}isIntersectingFeature(t,y,w,E,I,M,O){var Q=E.getGeometry();if(!Q)return!1;const V=8/O.normalizationRatio;t=t/O.normalizationRatio+O.normalizationOffsetX;y=y/O.normalizationRatio+O.normalizationOffsetY;w*=V;M=f.translateAnchor(this.getPaintValue("circle-translate",
I,E),this.getPaintValue("circle-translate-anchor",I,E),M,V);E=V*(this.getPaintValue("circle-radius",I,E)+this.getPaintValue("circle-stroke-width",I,E));for(const X of Q)if(X)for(const Z of X)if(Q=Z.x+M.x,I=Z.y+M.y,Math.sqrt((t-Q)*(t-Q)+(y-I)*(y-I))-w<=E)return!0;return!1}}class A{constructor(t,y,w){this.allowOverlap=t.getLayoutValue("icon-allow-overlap",y);this.ignorePlacement=t.getLayoutValue("icon-ignore-placement",y);this.keepUpright=t.getLayoutValue("icon-keep-upright",y);this.optional=t.getLayoutValue("icon-optional",
y);this.rotationAlignment=t.getLayoutValue("icon-rotation-alignment",y);this.rotationAlignment===k.RotationAlignment.AUTO&&(this.rotationAlignment=w?k.RotationAlignment.MAP:k.RotationAlignment.VIEWPORT);w=t.getLayoutProperty("icon-anchor");w?.isDataDriven?this._anchorProp=w:this.anchor=t.getLayoutValue("icon-anchor",y);w=t.getLayoutProperty("icon-offset");w?.isDataDriven?this._offsetProp=w:this.offset=t.getLayoutValue("icon-offset",y);w=t.getLayoutProperty("icon-padding");w?.isDataDriven?this._paddingProp=
w:this.padding=t.getLayoutValue("icon-padding",y);w=t.getLayoutProperty("icon-rotate");w?.isDataDriven?this._rotateProp=w:this.rotate=t.getLayoutValue("icon-rotate",y);w=t.getLayoutProperty("icon-size");w?.isDataDriven?this._sizeProp=w:this.size=t.getLayoutValue("icon-size",y)}update(t,y){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,y));this._offsetProp&&(this.offset=this._offsetProp.getValue(t,y));this._paddingProp&&(this.padding=this._paddingProp.getValue(t,y));this._rotateProp&&(this.rotate=
this._rotateProp.getValue(t,y));this._sizeProp&&(this.size=this._sizeProp.getValue(t,y))}}class K{constructor(t,y,w){this.allowOverlap=t.getLayoutValue("text-allow-overlap",y);this.ignorePlacement=t.getLayoutValue("text-ignore-placement",y);this.keepUpright=t.getLayoutValue("text-keep-upright",y);this.optional=t.getLayoutValue("text-optional",y);this.rotationAlignment=t.getLayoutValue("text-rotation-alignment",y);this.rotationAlignment===k.RotationAlignment.AUTO&&(this.rotationAlignment=w?k.RotationAlignment.MAP:
k.RotationAlignment.VIEWPORT);w=t.getLayoutProperty("text-anchor");w?.isDataDriven?this._anchorProp=w:this.anchor=t.getLayoutValue("text-anchor",y);w=t.getLayoutProperty("text-justify");w?.isDataDriven?this._justifyProp=w:this.justify=t.getLayoutValue("text-justify",y);w=t.getLayoutProperty("text-letter-spacing");w?.isDataDriven?this._letterSpacingProp=w:this.letterSpacing=t.getLayoutValue("text-letter-spacing",y);w=t.getLayoutProperty("text-line-height");w?.isDataDriven?this._lineHeightProp=w:this.lineHeight=
t.getLayoutValue("text-line-height",y);w=t.getLayoutProperty("text-max-angle");w?.isDataDriven?this._maxAngleProp=w:this.maxAngle=t.getLayoutValue("text-max-angle",y);w=t.getLayoutProperty("text-max-width");w?.isDataDriven?this._maxWidthProp=w:this.maxWidth=t.getLayoutValue("text-max-width",y);w=t.getLayoutProperty("text-offset");w?.isDataDriven?this._offsetProp=w:this.offset=t.getLayoutValue("text-offset",y);w=t.getLayoutProperty("text-padding");w?.isDataDriven?this._paddingProp=w:this.padding=t.getLayoutValue("text-padding",
y);w=t.getLayoutProperty("text-rotate");w?.isDataDriven?this._rotateProp=w:this.rotate=t.getLayoutValue("text-rotate",y);w=t.getLayoutProperty("text-size");w?.isDataDriven?this._sizeProp=w:this.size=t.getLayoutValue("text-size",y);w=t.getLayoutProperty("text-writing-mode");w?.isDataDriven?this._writingModeProp=w:this.writingMode=t.getLayoutValue("text-writing-mode",y)}update(t,y){this._anchorProp&&(this.anchor=this._anchorProp.getValue(t,y));this._justifyProp&&(this.justify=this._justifyProp.getValue(t,
y));this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(t,y));this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(t,y));this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(t,y));this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(t,y));this._offsetProp&&(this.offset=this._offsetProp.getValue(t,y));this._paddingProp&&(this.padding=this._paddingProp.getValue(t,y));this._rotateProp&&(this.rotate=this._rotateProp.getValue(t,y));this._sizeProp&&
(this.size=this._sizeProp.getValue(t,y));this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(t,y))}}b.BackgroundStyleLayer=F;b.CircleStyleLayer=D;b.FillStyleLayer=G;b.IconLayout=A;b.IndexItem=p;b.LineStyleLayer=H;b.StyleLayer=v;b.SymbolStyleLayer=z;b.TextLayout=K;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/enums":function(){define(["exports"],function(b){b.BucketType=void 0;(function(a){a[a.FILL=1]="FILL";a[a.LINE=2]="LINE";
a[a.SYMBOL=3]="SYMBOL";a[a.CIRCLE=4]="CIRCLE"})(b.BucketType||(b.BucketType={}));b.ShaderProgramType=void 0;(function(a){a[a.BACKGROUND=0]="BACKGROUND";a[a.FILL=1]="FILL";a[a.OUTLINE=2]="OUTLINE";a[a.LINE=3]="LINE";a[a.ICON=4]="ICON";a[a.CIRCLE=5]="CIRCLE";a[a.TEXT=6]="TEXT";a[a.TILEINFO=7]="TILEINFO"})(b.ShaderProgramType||(b.ShaderProgramType={}));b.StyleUpdateType=void 0;(function(a){a[a.PAINTER_CHANGED=0]="PAINTER_CHANGED";a[a.LAYOUT_CHANGED=1]="LAYOUT_CHANGED";a[a.LAYER_CHANGED=2]="LAYER_CHANGED";
a[a.LAYER_REMOVED=3]="LAYER_REMOVED";a[a.SPRITES_CHANGED=4]="SPRITES_CHANGED"})(b.StyleUpdateType||(b.StyleUpdateType={}));Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["exports","../../../../geometry/support/coordsUtils","../../../../geometry/support/TileClipper"],function(b,a,q){function f(e,k){e%=k;return 0<=e?e:e+k}const l=Number.POSITIVE_INFINITY,g=Math.PI,h=128/g,n=256/360,d=1/Math.LN2;b.between=function(e,
k,x){return e>=k&&e<=x||e>=x&&e<=k};b.c2pi=2*g;b.cDegTo256=n;b.cDegToRad=g/180;b.cInfinity=l;b.cPi=g;b.cRadTo256=h;b.degToByte=function(e){return f(e*n,256)};b.distanceFromToPolylineWithinThreshold=function(e,k,x,C){let r,p,v;C*=C;for(const F of x){const G=F.length;if(!(2>G)){x=F[0].x;r=F[0].y;for(let H=1;H<G;++H){p=F[H].x;v=F[H].y;if(a.distanceToSegmentSquared(e,k,x,r,p,v)<C)return!0;x=p;r=v}}}return!1};b.getTileMargins=function(e){return 8+Math.max(16*(e-14),0)};b.interpolate=function(e,k,x){return e*
(1-x)+k*x};b.isCircleOverlapingRect=function(e,k,x,C,r,p,v){k=Math.max(C,Math.min(k,p))-k;x=Math.max(r,Math.min(x,v))-x;return k*k+x*x<=e*e};b.log2=function(e){return Math.log(e)*d};b.offsetLine=function(e,k){if(0===k||Number.isNaN(k))return e;const x=[],C=new q.Point(0,0),r=new q.Point(0,0),p=new q.Point(0,0);for(let F=0;F<e.length;F++){const G=e[F],H=[];for(let z=0;z<G.length;z++){var v=G[z-1];const D=G[z],A=G[z+1];0===z?C.setCoords(0,0):C.assignSub(D,v).normalize().rightPerpendicular();z===G.length-
1?r.setCoords(0,0):r.assignSub(A,D).normalize().rightPerpendicular();p.assignAdd(C,r).normalize();v=p.x*r.x+p.y*r.y;0!==v&&p.scale(1/v);H.push(q.Point.add(D,p.scale(k)))}x.push(H)}return x};b.pointInPolygon=function(e,k,x){let C=0,r,p;for(const v of x){x=v.length;for(let F=1;F<x;++F)r=v[F-1],p=v[F],r.y>k!==p.y>k&&(0<(p.x-r.x)*(k-r.y)-(p.y-r.y)*(e-r.x)?C++:C--)}return 0!==C};b.positiveMod=f;b.radToByte=function(e){return f(e*h,256)};b.sqr=function(e){return e*e};b.translateAnchor=function(e,k,x,C){e=
new q.Point(e[0],e[1]);e.scale(C);"viewport"===k&&(k=Math.PI/180*-x,e.rotate(Math.cos(k),Math.sin(k)));return e};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/TileClipper":function(){define(["exports"],function(b){b.GeometryType=void 0;(function(d){d[d.Unknown=0]="Unknown";d[d.Point=1]="Point";d[d.LineString=2]="LineString";d[d.Polygon=3]="Polygon"})(b.GeometryType||(b.GeometryType={}));class a{constructor(d,e){this.x=d;this.y=e}clone(){return new a(this.x,
this.y)}equals(d,e){return d===this.x&&e===this.y}isEqual(d){return d.x===this.x&&d.y===this.y}setCoords(d,e){this.x=d;this.y=e;return this}normalize(){var d=this.x;const e=this.y;d=Math.sqrt(d*d+e*e);this.x/=d;this.y/=d;return this}rightPerpendicular(){const d=this.x;this.x=this.y;this.y=-d;return this}leftPerpendicular(){const d=this.x;this.x=-this.y;this.y=d;return this}move(d,e){this.x+=d;this.y+=e;return this}assign(d){this.x=d.x;this.y=d.y;return this}assignAdd(d,e){this.x=d.x+e.x;this.y=d.y+
e.y;return this}assignSub(d,e){this.x=d.x-e.x;this.y=d.y-e.y;return this}rotate(d,e){const k=this.x,x=this.y;this.x=k*d-x*e;this.y=k*e+x*d;return this}scale(d){this.x*=d;this.y*=d;return this}length(){const d=this.x,e=this.y;return Math.sqrt(d*d+e*e)}sub(d){this.x-=d.x;this.y-=d.y;return this}add(d){this.x+=d.x;this.y+=d.y;return this}static distance(d,e){const k=e.x-d.x;d=e.y-d.y;return Math.sqrt(k*k+d*d)}static add(d,e){return new a(d.x+e.x,d.y+e.y)}static sub(d,e){return new a(d.x-e.x,d.y-e.y)}}
class q{constructor(d,e,k){this.ratio=d;this.x=e;this.y=k}}class f{constructor(d,e,k,x=8,C=8){this._lines=[];this._starts=[];this.validateTessellation=!0;this._pixelRatio=x;this._pixelMargin=C;this._tileSize=512*x;this._dz=d;this._yPos=e;this._xPos=k}setPixelMargin(d){d!==this._pixelMargin&&(this._pixelMargin=d,this.setExtent(this._extent))}setExtent(d){this._extent=d;this._finalRatio=this._tileSize/d*(1<<this._dz);let e=this._pixelRatio*this._pixelMargin;e/=this._finalRatio;d>>=this._dz;e>d&&(e=
d);this._margin=e;this._xmin=d*this._xPos-e;this._ymin=d*this._yPos-e;this._xmax=this._xmin+d+2*e;this._ymax=this._ymin+d+2*e}reset(d){this._type=d;this._lines=[];this._starts=[];this._line=null;this._start=0}moveTo(d,e){this._pushLine();this._prevIsIn=this._isIn(d,e);this._moveTo(d,e,this._prevIsIn);this._prevPt=new a(d,e);this._firstPt=new a(d,e);this._dist=0}lineTo(d,e){const k=this._isIn(d,e),x=new a(d,e),C=a.distance(this._prevPt,x);if(k)if(this._prevIsIn)this._lineTo(d,e,!0);else{var r=this._prevPt;
var p=x;d=this._intersect(p,r);this._start=this._dist+C*(1-this._r);this._lineTo(d.x,d.y,!0);this._lineTo(p.x,p.y,!0)}else if(this._prevIsIn)p=this._prevPt,r=x,d=this._intersect(p,r),this._lineTo(d.x,d.y,!0),this._lineTo(r.x,r.y,!1);else{const F=this._prevPt;if(!(F.x<=this._xmin&&x.x<=this._xmin||F.x>=this._xmax&&x.x>=this._xmax||F.y<=this._ymin&&x.y<=this._ymin||F.y>=this._ymax&&x.y>=this._ymax)){d=[];if(F.x<this._xmin&&x.x>this._xmin||F.x>this._xmin&&x.x<this._xmin){e=(this._xmin-F.x)/(x.x-F.x);
var v=F.y+e*(x.y-F.y);v<=this._ymin?p=!1:v>=this._ymax?p=!0:d.push(new q(e,this._xmin,v))}if(F.x<this._xmax&&x.x>this._xmax||F.x>this._xmax&&x.x<this._xmax)e=(this._xmax-F.x)/(x.x-F.x),v=F.y+e*(x.y-F.y),v<=this._ymin?p=!1:v>=this._ymax?p=!0:d.push(new q(e,this._xmax,v));if(F.y<this._ymin&&x.y>this._ymin||F.y>this._ymin&&x.y<this._ymin)e=(this._ymin-F.y)/(x.y-F.y),v=F.x+e*(x.x-F.x),v<=this._xmin?r=!1:v>=this._xmax?r=!0:d.push(new q(e,v,this._ymin));if(F.y<this._ymax&&x.y>this._ymax||F.y>this._ymax&&
x.y<this._ymax)e=(this._ymax-F.y)/(x.y-F.y),v=F.x+e*(x.x-F.x),v<=this._xmin?r=!1:v>=this._xmax?r=!0:d.push(new q(e,v,this._ymax));if(0===d.length)r?p?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):p?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,!0);else if(1<d.length&&d[0].ratio>d[1].ratio)this._start=this._dist+C*d[1].ratio,this._lineTo(d[1].x,d[1].y,!0),this._lineTo(d[0].x,d[0].y,!0);else for(this._start=this._dist+C*d[0].ratio,r=0;r<d.length;r++)this._lineTo(d[r].x,
d[r].y,!0)}this._lineTo(x.x,x.y,!1)}this._dist+=C;this._prevIsIn=k;this._prevPt=x}close(){if(2<this._line.length){var d=this._firstPt,e=this._prevPt;d.x===e.x&&d.y===e.y||this.lineTo(d.x,d.y);d=this._line;for(e=d.length;4<=e;)if(d[0].x===d[1].x&&d[0].x===d[e-2].x||d[0].y===d[1].y&&d[0].y===d[e-2].y)d.pop(),d[0].x=d[e-2].x,d[0].y=d[e-2].y,--e;else break}}result(d=!0){this._pushLine();if(0===this._lines.length)return null;this._type===b.GeometryType.Polygon&&d&&h.simplify(this._tileSize,this._margin*
this._finalRatio,this._lines);return this._lines}resultWithStarts(){if(this._type!==b.GeometryType.LineString)throw Error("Only valid for lines");this._pushLine();const d=this._lines,e=d.length;if(0===e)return null;const k=[];for(let x=0;x<e;x++)k.push({line:d[x],start:this._starts[x]||0});return k}_isIn(d,e){return d>=this._xmin&&d<=this._xmax&&e>=this._ymin&&e<=this._ymax}_intersect(d,e){let k,x,C;if(e.x>=this._xmin&&e.x<=this._xmax)x=e.y<=this._ymin?this._ymin:this._ymax,C=(x-d.y)/(e.y-d.y),k=
d.x+C*(e.x-d.x);else if(e.y>=this._ymin&&e.y<=this._ymax)k=e.x<=this._xmin?this._xmin:this._xmax,C=(k-d.x)/(e.x-d.x),x=d.y+C*(e.y-d.y);else{x=e.y<=this._ymin?this._ymin:this._ymax;k=e.x<=this._xmin?this._xmin:this._xmax;const r=(k-d.x)/(e.x-d.x),p=(x-d.y)/(e.y-d.y);r<p?(C=r,x=d.y+r*(e.y-d.y)):(C=p,k=d.x+p*(e.x-d.x))}this._r=C;return new a(k,x)}_pushLine(){this._line&&(this._type===b.GeometryType.Point?0<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===
b.GeometryType.LineString?1<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===b.GeometryType.Polygon&&3<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)));this._line=[];this._start=0}_moveTo(d,e,k){this._type!==b.GeometryType.Polygon?k&&(d=Math.round((d-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line.push(new a(d,e))):(k||(d<this._xmin&&(d=this._xmin),d>this._xmax&&
(d=this._xmax),e<this._ymin&&(e=this._ymin),e>this._ymax&&(e=this._ymax)),d=Math.round((d-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line.push(new a(d,e)),this._isV=this._isH=!1)}_lineTo(d,e,k){if(this._type!==b.GeometryType.Polygon)if(k){d=Math.round((d-(this._xmin+this._margin))*this._finalRatio);e=Math.round((e-(this._ymin+this._margin))*this._finalRatio);if(0<this._line.length&&(k=this._line[this._line.length-1],k.equals(d,e)))return;
this._line.push(new a(d,e))}else this._line&&0<this._line.length&&this._pushLine();else if(k||(d<this._xmin&&(d=this._xmin),d>this._xmax&&(d=this._xmax),e<this._ymin&&(e=this._ymin),e>this._ymax&&(e=this._ymax)),d=Math.round((d-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line&&0<this._line.length){k=this._line[this._line.length-1];const x=k.x===d,C=k.y===e;x&&C||(this._isH&&x?(k.x=d,k.y=e,k=this._line[this._line.length-2],k.x===d&&
k.y===e?(this._line.pop(),1>=this._line.length?this._isV=this._isH=!1:(k=this._line[this._line.length-2],this._isH=k.x===d,this._isV=k.y===e)):(this._isH=k.x===d,this._isV=k.y===e)):this._isV&&C?(k.x=d,k.y=e,k=this._line[this._line.length-2],k.x===d&&k.y===e?(this._line.pop(),1>=this._line.length?this._isV=this._isH=!1:(k=this._line[this._line.length-2],this._isH=k.x===d,this._isV=k.y===e)):(this._isH=k.x===d,this._isV=k.y===e)):(this._line.push(new a(d,e)),this._isH=x,this._isV=C))}else this._line.push(new a(d,
e))}}class l{setExtent(d){this._ratio=4096===d?1:4096/d}get validateTessellation(){return 1>this._ratio}reset(d){this._lines=[];this._line=null}moveTo(d,e){this._line&&this._lines.push(this._line);this._line=[];const k=this._ratio;this._line.push(new a(d*k,e*k))}lineTo(d,e){const k=this._ratio;this._line.push(new a(d*k,e*k))}close(){const d=this._line;d&&!d[0].isEqual(d[d.length-1])&&d.push(d[0])}result(){this._line&&this._lines.push(this._line);return 0===this._lines.length?null:this._lines}}var g;
(function(d){d[d.sideLeft=0]="sideLeft";d[d.sideRight=1]="sideRight";d[d.sideTop=2]="sideTop";d[d.sideBottom=3]="sideBottom"})(g||={});class h{static simplify(d,e,k){if(k){var x=-e,C=d+e,r=-e,p=d+e;d=[];e=[];var v=k.length;for(let F=0;F<v;++F){const G=k[F];if(!G||2>G.length)continue;let H=G[0],z;const D=G.length;for(let A=1;A<D;++A)z=G[A],H.x===z.x&&(H.x<=x&&(H.y>z.y?(d.push(F),d.push(A),d.push(g.sideLeft),d.push(-1)):(e.push(F),e.push(A),e.push(g.sideLeft),e.push(-1))),H.x>=C&&(H.y<z.y?(d.push(F),
d.push(A),d.push(g.sideRight),d.push(-1)):(e.push(F),e.push(A),e.push(g.sideRight),e.push(-1)))),H.y===z.y&&(H.y<=r&&(H.x<z.x?(d.push(F),d.push(A),d.push(g.sideTop),d.push(-1)):(e.push(F),e.push(A),e.push(g.sideTop),e.push(-1))),H.y>=p&&(H.x>z.x?(d.push(F),d.push(A),d.push(g.sideBottom),d.push(-1)):(e.push(F),e.push(A),e.push(g.sideBottom),e.push(-1)))),H=z}0!==d.length&&0!==e.length&&(h.fillParent(k,e,d),h.fillParent(k,d,e),x=[],h.calcDeltas(x,e,d),h.calcDeltas(x,d,e),h.addDeltas(x,k))}}static fillParent(d,
e,k){const x=k.length,C=e.length;for(let G=0;G<C;G+=4){var r=e[G],p=e[G+1];const H=e[G+2],z=d[r][p-1];r=d[r][p];p=8092;let D=-1;for(let A=0;A<x;A+=4){if(k[A+2]!==H)continue;var v=k[A];const K=k[A+1];var F=d[v][K-1];v=d[v][K];switch(H){case g.sideLeft:case g.sideRight:n(z.y,F.y,v.y)&&n(r.y,F.y,v.y)&&(F=Math.abs(v.y-F.y),F<p&&(p=F,D=A));break;case g.sideTop:case g.sideBottom:n(z.x,F.x,v.x)&&n(r.x,F.x,v.x)&&(F=Math.abs(v.x-F.x),F<p&&(p=F,D=A))}}e[G+3]=D}}static calcDeltas(d,e,k){const x=e.length;for(let C=
0;C<x;C+=4){const r=h.calcDelta(C,e,k,[]);d.push(e[C]);d.push(e[C+1]);d.push(e[C+2]);d.push(r)}}static calcDelta(d,e,k,x){d=e[d+3];if(-1===d)return 0;const C=x.length;if(1<C&&x[C-2]===d)return 0;x.push(d);return h.calcDelta(d,k,e,x)+1}static addDeltas(d,e){const k=d.length;let x=0;for(var C=0;C<k;C+=4){var r=d[C+3];r>x&&(x=r)}for(C=0;C<k;C+=4){r=e[d[C]];const p=d[C+1],v=x-d[C+3];switch(d[C+2]){case g.sideLeft:r[p-1].x-=v;r[p].x-=v;1===p&&(r[r.length-1].x-=v);p===r.length-1&&(r[0].x-=v);break;case g.sideRight:r[p-
1].x+=v;r[p].x+=v;1===p&&(r[r.length-1].x+=v);p===r.length-1&&(r[0].x+=v);break;case g.sideTop:r[p-1].y-=v;r[p].y-=v;1===p&&(r[r.length-1].y-=v);p===r.length-1&&(r[0].y-=v);break;case g.sideBottom:r[p-1].y+=v,r[p].y+=v,1===p&&(r[r.length-1].y+=v),p===r.length-1&&(r[0].y+=v)}}}}const n=(d,e,k)=>d>=e&&d<=k||d>=k&&d<=e;b.Point=a;b.SimpleBuilder=l;b.TileClipper=f;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLBackgroundMaterial":function(){define(["exports",
"./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(b,a,q,f){class l extends a.VTLMaterial{constructor(g){super(g)}geometryInfo(){return l.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return l.ATTRIBUTES}attributesInfo(){return l.ATTRIBUTES_INFO}}l.ATTRIBUTES=[];l.GEOMETRY_LAYOUT=[new f.VertexElementDescriptor("a_pos",2,q.DataType.BYTE,0,2)];l.ATTRIBUTES_INFO={};b.VTLBackgroundMaterial=l;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/views/2d/engine/vectorTiles/shaders/VTLMaterial":function(){define(["exports","../MemoryBuffer","./enums","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(b,a,q,f,l){class g{constructor(d){this._locations=new Map;this._key=d}get key(){return this._key}get type(){return this._key&7}defines(){return[]}getStride(){this._layoutInfo||this._buildAttributesInfo();return this._stride}getAttributeLocations(){0===this._locations.size&&this._buildAttributesInfo();return this._locations}getLayoutInfo(){this._layoutInfo||
this._buildAttributesInfo();return this._layoutInfo}getEncodingInfos(){this._propertyEncodingInfo||this._buildAttributesInfo();return this._propertyEncodingInfo}getUniforms(){this._uniforms||this._buildAttributesInfo();return this._uniforms}getShaderHeader(){this._shaderHeader||this._buildAttributesInfo();return this._shaderHeader}getShaderMain(){this._shaderMain||this._buildAttributesInfo();return this._shaderMain}setDataUniforms(d,e,k,x,C){var r=this.getUniforms();for(const p of r){const {name:v,
type:F,getValue:G}=p;r=G(k,e,x,C);if(null!==r)switch(F){case "float":d.setUniform1f(v,r);break;case "vec2":d.setUniform2fv(v,r);break;case "vec4":d.setUniform4fv(v,r)}}}encodeAttributes(d,e,k,x){const C=this.attributesInfo(),r=this.getEncodingInfos(),p=[];let v=0,F=0;for(const H of Object.keys(r)){var G=r[H];const {type:z,precisionFactor:D,isLayout:A}=C[H],K=A?k.getLayoutProperty(H):k.getPaintProperty(H),t=K.interpolator?.getInterpolationRange(e);let y=0;for(const w of G){const {offset:E,bufferElementsToAdd:I}=
w;if(0<I){for(G=0;G<I;G++)p.push(0);v+=F;F=w.bufferElementsToAdd}G=x??K.getValue(t?t[y]:e,d);switch(z){case q.EncodingType.R8_SIGNED:case q.EncodingType.R8_UNSIGNED:p[v]|=this._encodeByte(G*(D||1),8*E);break;case q.EncodingType.R16_SIGNED:case q.EncodingType.R16_UNSIGNED:p[v]|=this._encodeShort(G*(D||1),8*E);break;case q.EncodingType.R8G8_SIGNED:case q.EncodingType.R8G8_UNSIGNED:p[v]|=this._encodeByte(G*(D||1),8*E);p[v]|=this._encodeByte(G*(D||1),8*E+8);break;case q.EncodingType.R16G16_SIGNED:case q.EncodingType.R16G16_UNSIGNED:p[v]|=
this._encodeShort(G*(D||1),8*E);p[v]|=this._encodeShort(G*(D||1),8*E+16);break;case q.EncodingType.R8G8B8A8_SIGNED:case q.EncodingType.R8G8B8A8_UNSIGNED:p[v]|=this._encodeByte(G*(D||1),8*E);p[v]|=this._encodeByte(G*(D||1),8*E+8);p[v]|=this._encodeByte(G*(D||1),8*E+16);p[v]|=this._encodeByte(G*(D||1),8*E+24);break;case q.EncodingType.R8G8B8A8_COLOR:p[v]=this._encodeColor(G);break;case q.EncodingType.R16G16B16A16_DASHARRAY:case q.EncodingType.R16G16B16A16_PATTERN:this._encodePattern(v,p,G);break;default:throw Error("Unsupported encoding type");
}y++}}return p}getAtributeState(d){const e=3+2*d;d=0|this._bit(e);return d|=this._bit(e+1)<<1}_buildAttributesInfo(){const d=[],e={};var k={},x=-1;const C=this.attributesInfo();var r=this.attributes();let p=-1;for(const H of r){p++;r=this.getAtributeState(p);if(r===q.AttributeStatus.UNIFORM||r===q.AttributeStatus.UNUSED)continue;var v=C[H];const z=[];e[H]=z;v=v.type;for(let D=0;D<r;D++){const {dataType:A,bytesPerElement:K,count:t,normalized:y}=g._encodingInfo[v],w=K*t;var F=`${A}-${!0===y}`;let E=
k[F],I=0;!E||4<E.count+t?(x++,E={dataIndex:x,count:0,offset:0},4!==t&&(k[F]=E),d.push({location:-1,name:"a_data_"+x,count:t,type:A,normalized:y}),I=Math.ceil(Math.max(w/4,1))):(F=d[E.dataIndex],F.count+=t,I=Math.ceil(Math.max(F.count*K/4,1))-Math.ceil(Math.max(E.offset/4,1)));z.push({dataIndex:E.dataIndex,offset:E.offset,bufferElementsToAdd:I});E.offset+=w;E.count+=t}}for(const H of d)switch(H.type){case f.DataType.BYTE:case f.DataType.UNSIGNED_BYTE:H.count=4;break;case f.DataType.SHORT:case f.DataType.UNSIGNED_SHORT:H.count+=
H.count%2}this._buildVertexBufferLayout(d);k=0;x=this._layoutInfo.geometry;for(var G of x)this._locations.set(G.name,k++);if(G=this._layoutInfo.opacity)for(const H of G)this._locations.set(H.name,k++);this._buildShaderInfo(d,e);this._propertyEncodingInfo=e}_buildVertexBufferLayout(d){const e={},k=this.geometryInfo();let x=k[0].stride;if(0===d.length)e.geometry=k;else{const C=[];let r=x;for(const p of d)x+=h(p.type)*p.count;for(const p of k)C.push(new l.VertexElementDescriptor(p.name,p.count,p.type,
p.offset,x,p.normalized));for(const p of d)C.push(new l.VertexElementDescriptor(p.name,p.count,p.type,r,x,p.normalized)),r+=h(p.type)*p.count;e.geometry=C}this.opacityInfo()&&(e.opacity=this.opacityInfo());this._layoutInfo=e;this._stride=x}_buildShaderInfo(d,e){let k="\n",x="\n";const C=[];for(var r of d)k+=`attribute ${this._getType(r.count)} ${r.name};\n`;var p=this.attributes();d=this.attributesInfo();r=-1;for(const G of p){r++;const {name:H,type:z,precisionFactor:D,isLayout:A}=d[G];p=D&&1!==D?
` * ${1/D}`:"";const {bytesPerElement:K,count:t}=g._encodingInfo[z];var v=y=>`a_data_${y.dataIndex}${n(t,y.offset,K)}`;switch(this.getAtributeState(r)){case q.AttributeStatus.UNIFORM:p=this._getType(t);var F=`u_${H}`;C.push({name:F,type:p,getValue:(w,E,I,M)=>{I=A?w.getLayoutValue(G,E):w.getPaintValue(G,E);if(z===q.EncodingType.R16G16B16A16_DASHARRAY){w=w.getDashKey(I,w.getLayoutValue("line-cap",E));M=M.getMosaicItemPosition(w,!1);if(null==M)return null;const {tl:O,br:Q}=M;return[O[0],Q[1],Q[0],O[1]]}if(z===
q.EncodingType.R16G16B16A16_PATTERN){M=M.getMosaicItemPosition(I,!G.includes("line-"));if(null==M)return null;const {tl:O,br:Q}=M;return[O[0],Q[1],Q[0],O[1]]}return z===q.EncodingType.R8G8B8A8_COLOR?(M=I[3],[M*I[0],M*I[1],M*I[2],M]):I}});k+=`uniform ${p} ${F};\n`;x+=`${p} ${H} = ${F};\n`;break;case q.AttributeStatus.DATA_DRIVEN:F=v(e[G][0]);x+=`${this._getType(t)} ${H} = ${F}${p};\n`;break;case q.AttributeStatus.INTERPOLATED_DATA_DRIVEN:F=`u_t_${H}`;C.push({name:F,type:"float",getValue:(w,E,I,M)=>
(A?w.getLayoutProperty(G):w.getPaintProperty(G)).interpolator.interpolationUniformValue(I,E)});k+=`uniform float ${F};\n`;const y=v(e[G][0]);v=v(e[G][1]);x+=`${this._getType(t)} ${H} = mix(${y}${p}, ${v}${p}, ${F});\n`}}this._shaderHeader=k;this._shaderMain=x;this._uniforms=C}_bit(d){return(this._key&1<<d)>>d}_getType(d){switch(d){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw Error("Invalid count");}_encodeColor(d){const e=255*d[3];return a.i8888to32(d[0]*
e,d[1]*e,d[2]*e,e)}_encodePattern(d,e,k){if(k?.rect){var x=k.rect,C=k.width;k=k.height;e[d]=this._encodeShort(x.x+2,0);e[d]|=this._encodeShort(x.y+2+k,16);e[d+1]=this._encodeShort(x.x+2+C,0);e[d+1]|=this._encodeShort(x.y+2,16)}}_encodeByte(d,e){return(d&255)<<e}_encodeShort(d,e){return(d&65535)<<e}}g._encodingInfo={[q.EncodingType.R8_SIGNED]:{dataType:f.DataType.BYTE,bytesPerElement:1,count:1,normalized:!1},[q.EncodingType.R8_UNSIGNED]:{dataType:f.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:1,
normalized:!1},[q.EncodingType.R16_SIGNED]:{dataType:f.DataType.SHORT,bytesPerElement:2,count:1,normalized:!1},[q.EncodingType.R16_UNSIGNED]:{dataType:f.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[q.EncodingType.R8G8_SIGNED]:{dataType:f.DataType.BYTE,bytesPerElement:1,count:2,normalized:!1},[q.EncodingType.R8G8_UNSIGNED]:{dataType:f.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},[q.EncodingType.R16G16_SIGNED]:{dataType:f.DataType.SHORT,bytesPerElement:2,count:2,
normalized:!1},[q.EncodingType.R16G16_UNSIGNED]:{dataType:f.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},[q.EncodingType.R8G8B8A8_SIGNED]:{dataType:f.DataType.BYTE,bytesPerElement:1,count:4,normalized:!1},[q.EncodingType.R8G8B8A8_UNSIGNED]:{dataType:f.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1},[q.EncodingType.R8G8B8A8_COLOR]:{dataType:f.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0},[q.EncodingType.R16G16B16A16_DASHARRAY]:{dataType:f.DataType.UNSIGNED_SHORT,
bytesPerElement:2,count:4,normalized:!1},[q.EncodingType.R16G16B16A16_PATTERN]:{dataType:f.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}};const h=d=>{switch(d){case f.DataType.FLOAT:return 4;case f.DataType.INT:return 4;case f.DataType.UNSIGNED_INT:return 4;case f.DataType.SHORT:return 2;case f.DataType.UNSIGNED_SHORT:return 2;case f.DataType.BYTE:return 1;case f.DataType.UNSIGNED_BYTE:return 1}},n=(d,e,k)=>{e/=k;if(1===d)switch(e){case 0:return".x";case 1:return".y";case 2:return".z";
case 3:return".w"}else if(2===d)switch(e){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===d)switch(e){case 0:return".xyz";case 1:return".yzw"}return""};b.VTLMaterial=g;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(function(){class b{constructor(a){this._array=[];0>=a&&console.error("strideInBytes must be positive!");this._stride=a}get array(){return this._array}get index(){return 4*this._array.length/
this._stride}get itemSize(){return this._stride}get sizeInBytes(){return 4*this._array.length}reset(){this.array.length=0}toBuffer(){return(new Uint32Array(this._array)).buffer}static i1616to32(a,q){return 65535&a|q<<16}static i8888to32(a,q,f,l){return a&255|(q&255)<<8|(f&255)<<16|l<<24}static i8816to32(a,q,f){return a&255|(q&255)<<8|f<<16}}return b})},"esri/views/2d/engine/vectorTiles/shaders/enums":function(){define(["exports"],function(b){b.EncodingType=void 0;(function(a){a[a.R8_SIGNED=0]="R8_SIGNED";
a[a.R8_UNSIGNED=1]="R8_UNSIGNED";a[a.R16_SIGNED=2]="R16_SIGNED";a[a.R16_UNSIGNED=3]="R16_UNSIGNED";a[a.R8G8_SIGNED=4]="R8G8_SIGNED";a[a.R8G8_UNSIGNED=5]="R8G8_UNSIGNED";a[a.R16G16_SIGNED=6]="R16G16_SIGNED";a[a.R16G16_UNSIGNED=7]="R16G16_UNSIGNED";a[a.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED";a[a.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED";a[a.R8G8B8A8_COLOR=10]="R8G8B8A8_COLOR";a[a.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY";a[a.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN"})(b.EncodingType||(b.EncodingType=
{}));b.AttributeStatus=void 0;(function(a){a[a.UNIFORM=0]="UNIFORM";a[a.DATA_DRIVEN=1]="DATA_DRIVEN";a[a.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN";a[a.UNUSED=3]="UNUSED"})(b.AttributeStatus||(b.AttributeStatus={}));Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/enums":function(){define(["exports"],function(b){b.ClearBufferBit=void 0;(function(a){a[a.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT";a[a.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT";a[a.COLOR_BUFFER_BIT=
16384]="COLOR_BUFFER_BIT"})(b.ClearBufferBit||(b.ClearBufferBit={}));b.PrimitiveType=void 0;(function(a){a[a.POINTS=0]="POINTS";a[a.LINES=1]="LINES";a[a.LINE_LOOP=2]="LINE_LOOP";a[a.LINE_STRIP=3]="LINE_STRIP";a[a.TRIANGLES=4]="TRIANGLES";a[a.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";a[a.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(b.PrimitiveType||(b.PrimitiveType={}));b.BlendFactor=void 0;(function(a){a[a.ZERO=0]="ZERO";a[a.ONE=1]="ONE";a[a.SRC_COLOR=768]="SRC_COLOR";a[a.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR";
a[a.SRC_ALPHA=770]="SRC_ALPHA";a[a.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA";a[a.DST_ALPHA=772]="DST_ALPHA";a[a.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA";a[a.DST_COLOR=774]="DST_COLOR";a[a.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR";a[a.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE";a[a.CONSTANT_COLOR=32769]="CONSTANT_COLOR";a[a.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR";a[a.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA";a[a.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"})(b.BlendFactor||
(b.BlendFactor={}));b.BlendOperation=void 0;(function(a){a[a.ADD=32774]="ADD";a[a.MIN=32775]="MIN";a[a.MAX=32776]="MAX";a[a.SUBTRACT=32778]="SUBTRACT";a[a.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"})(b.BlendOperation||(b.BlendOperation={}));b.BufferType=void 0;(function(a){a[a.ARRAY_BUFFER=34962]="ARRAY_BUFFER";a[a.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER";a[a.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";a[a.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER";a[a.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER";
a[a.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER";a[a.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER";a[a.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"})(b.BufferType||(b.BufferType={}));b.Face=void 0;(function(a){a[a.FRONT=1028]="FRONT";a[a.BACK=1029]="BACK";a[a.FRONT_AND_BACK=1032]="FRONT_AND_BACK"})(b.Face||(b.Face={}));b.CullMode=void 0;(function(a){a[a.CW=2304]="CW";a[a.CCW=2305]="CCW"})(b.CullMode||(b.CullMode={}));b.DataType=void 0;(function(a){a[a.BYTE=5120]="BYTE";a[a.UNSIGNED_BYTE=
5121]="UNSIGNED_BYTE";a[a.SHORT=5122]="SHORT";a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";a[a.INT=5124]="INT";a[a.UNSIGNED_INT=5125]="UNSIGNED_INT";a[a.FLOAT=5126]="FLOAT"})(b.DataType||(b.DataType={}));b.CompareFunction=void 0;(function(a){a[a.NEVER=512]="NEVER";a[a.LESS=513]="LESS";a[a.EQUAL=514]="EQUAL";a[a.LEQUAL=515]="LEQUAL";a[a.GREATER=516]="GREATER";a[a.NOTEQUAL=517]="NOTEQUAL";a[a.GEQUAL=518]="GEQUAL";a[a.ALWAYS=519]="ALWAYS"})(b.CompareFunction||(b.CompareFunction={}));b.StencilOperation=
void 0;(function(a){a[a.ZERO=0]="ZERO";a[a.KEEP=7680]="KEEP";a[a.REPLACE=7681]="REPLACE";a[a.INCR=7682]="INCR";a[a.DECR=7683]="DECR";a[a.INVERT=5386]="INVERT";a[a.INCR_WRAP=34055]="INCR_WRAP";a[a.DECR_WRAP=34056]="DECR_WRAP"})(b.StencilOperation||(b.StencilOperation={}));b.TextureSamplingMode=void 0;(function(a){a[a.NEAREST=9728]="NEAREST";a[a.LINEAR=9729]="LINEAR";a[a.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST";a[a.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST";a[a.NEAREST_MIPMAP_LINEAR=
9986]="NEAREST_MIPMAP_LINEAR";a[a.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"})(b.TextureSamplingMode||(b.TextureSamplingMode={}));b.TextureWrapMode=void 0;(function(a){a[a.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE";a[a.REPEAT=10497]="REPEAT";a[a.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(b.TextureWrapMode||(b.TextureWrapMode={}));b.TextureType=void 0;(function(a){a[a.TEXTURE_2D=3553]="TEXTURE_2D";a[a.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";a[a.TEXTURE_3D=32879]="TEXTURE_3D";a[a.TEXTURE_CUBE_MAP_POSITIVE_X=
34069]="TEXTURE_CUBE_MAP_POSITIVE_X";a[a.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";a[a.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";a[a.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";a[a.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";a[a.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z";a[a.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"})(b.TextureType||(b.TextureType={}));b.PixelFormat=void 0;(function(a){a[a.DEPTH_COMPONENT=
6402]="DEPTH_COMPONENT";a[a.DEPTH_STENCIL=34041]="DEPTH_STENCIL";a[a.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8";a[a.ALPHA=6406]="ALPHA";a[a.RGB=6407]="RGB";a[a.RGBA=6408]="RGBA";a[a.LUMINANCE=6409]="LUMINANCE";a[a.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";a[a.RED=6403]="RED";a[a.RG=33319]="RG";a[a.RED_INTEGER=36244]="RED_INTEGER";a[a.RG_INTEGER=33320]="RG_INTEGER";a[a.RGB_INTEGER=36248]="RGB_INTEGER";a[a.RGBA_INTEGER=36249]="RGBA_INTEGER"})(b.PixelFormat||(b.PixelFormat={}));b.SizedPixelFormat=void 0;
(function(a){a[a.RGBA4=32854]="RGBA4";a[a.R16F=33325]="R16F";a[a.RG16F=33327]="RG16F";a[a.RGB32F=34837]="RGB32F";a[a.RGBA16F=34842]="RGBA16F";a[a.R32F=33326]="R32F";a[a.RG32F=33328]="RG32F";a[a.RGBA32F=34836]="RGBA32F";a[a.R11F_G11F_B10F=35898]="R11F_G11F_B10F";a[a.RGB8=32849]="RGB8";a[a.RGBA8=32856]="RGBA8";a[a.RGB5_A1=32855]="RGB5_A1";a[a.R8=33321]="R8";a[a.RG8=33323]="RG8";a[a.R8I=33329]="R8I";a[a.R8UI=33330]="R8UI";a[a.R16I=33331]="R16I";a[a.R16UI=33332]="R16UI";a[a.R32I=33333]="R32I";a[a.R32UI=
33334]="R32UI";a[a.RG8I=33335]="RG8I";a[a.RG8UI=33336]="RG8UI";a[a.RG16I=33337]="RG16I";a[a.RG16UI=33338]="RG16UI";a[a.RG32I=33339]="RG32I";a[a.RG32UI=33340]="RG32UI";a[a.RGB16F=34843]="RGB16F";a[a.RGB9_E5=35901]="RGB9_E5";a[a.SRGB8=35905]="SRGB8";a[a.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8";a[a.RGB565=36194]="RGB565";a[a.RGBA32UI=36208]="RGBA32UI";a[a.RGB32UI=36209]="RGB32UI";a[a.RGBA16UI=36214]="RGBA16UI";a[a.RGB16UI=36215]="RGB16UI";a[a.RGBA8UI=36220]="RGBA8UI";a[a.RGB8UI=36221]="RGB8UI";a[a.RGBA32I=
36226]="RGBA32I";a[a.RGB32I=36227]="RGB32I";a[a.RGBA16I=36232]="RGBA16I";a[a.RGB16I=36233]="RGB16I";a[a.RGBA8I=36238]="RGBA8I";a[a.RGB8I=36239]="RGB8I";a[a.R8_SNORM=36756]="R8_SNORM";a[a.RG8_SNORM=36757]="RG8_SNORM";a[a.RGB8_SNORM=36758]="RGB8_SNORM";a[a.RGBA8_SNORM=36759]="RGBA8_SNORM";a[a.RGB10_A2=32857]="RGB10_A2";a[a.RGB10_A2UI=36975]="RGB10_A2UI"})(b.SizedPixelFormat||(b.SizedPixelFormat={}));b.PixelType=void 0;(function(a){a[a.FLOAT=5126]="FLOAT";a[a.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";a[a.UNSIGNED_INT_24_8=
34042]="UNSIGNED_INT_24_8";a[a.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4";a[a.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";a[a.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";a[a.BYTE=5120]="BYTE";a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";a[a.SHORT=5122]="SHORT";a[a.UNSIGNED_INT=5125]="UNSIGNED_INT";a[a.INT=5124]="INT";a[a.HALF_FLOAT=5131]="HALF_FLOAT";a[a.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV";a[a.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV";
a[a.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV";a[a.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"})(b.PixelType||(b.PixelType={}));b.RenderbufferFormat=void 0;(function(a){a[a.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16";a[a.STENCIL_INDEX8=36168]="STENCIL_INDEX8";a[a.DEPTH_STENCIL=34041]="DEPTH_STENCIL";a[a.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24";a[a.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F";a[a.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8";a[a.DEPTH32F_STENCIL8=
36013]="DEPTH32F_STENCIL8"})(b.RenderbufferFormat||(b.RenderbufferFormat={}));b.Usage=void 0;(function(a){a[a.STATIC_DRAW=35044]="STATIC_DRAW";a[a.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW";a[a.STREAM_DRAW=35040]="STREAM_DRAW";a[a.STATIC_READ=35045]="STATIC_READ";a[a.DYNAMIC_READ=35049]="DYNAMIC_READ";a[a.STREAM_READ=35041]="STREAM_READ";a[a.STATIC_COPY=35046]="STATIC_COPY";a[a.DYNAMIC_COPY=35050]="DYNAMIC_COPY";a[a.STREAM_COPY=35042]="STREAM_COPY"})(b.Usage||(b.Usage={}));b.ShaderType=void 0;(function(a){a[a.FRAGMENT_SHADER=
35632]="FRAGMENT_SHADER";a[a.VERTEX_SHADER=35633]="VERTEX_SHADER"})(b.ShaderType||(b.ShaderType={}));b.FramebufferTarget=void 0;(function(a){a[a.FRAMEBUFFER=36160]="FRAMEBUFFER";a[a.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER";a[a.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"})(b.FramebufferTarget||(b.FramebufferTarget={}));b.ResourceType=void 0;(function(a){a[a.Texture=0]="Texture";a[a.BufferObject=1]="BufferObject";a[a.VertexArrayObject=2]="VertexArrayObject";a[a.Shader=3]="Shader";a[a.Program=4]="Program";
a[a.FramebufferObject=5]="FramebufferObject";a[a.Renderbuffer=6]="Renderbuffer";a[a.TransformFeedback=7]="TransformFeedback";a[a.Sync=8]="Sync";a[a.UNCOUNTED=9]="UNCOUNTED";a[a.LinesOfCode=9]="LinesOfCode";a[a.Uniform=10]="Uniform";a[a.COUNT=11]="COUNT"})(b.ResourceType||(b.ResourceType={}));b.ColorAttachment=void 0;(function(a){a[a.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0";a[a.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1";a[a.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2";a[a.COLOR_ATTACHMENT3=36067]=
"COLOR_ATTACHMENT3";a[a.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4";a[a.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5";a[a.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6";a[a.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7";a[a.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8";a[a.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9";a[a.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10";a[a.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11";a[a.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12";a[a.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13";
a[a.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14";a[a.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"})(b.ColorAttachment||(b.ColorAttachment={}));b.SpecialDrawBuffers=void 0;(function(a){a[a.NONE=0]="NONE";a[a.BACK=1029]="BACK"})(b.SpecialDrawBuffers||(b.SpecialDrawBuffers={}));b.CompressedTextureFormat=void 0;(function(a){a[a.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT";a[a.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT";a[a.COMPRESSED_RGBA_S3TC_DXT3_EXT=
33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT";a[a.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT";a[a.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC";a[a.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC";a[a.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC";a[a.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC";a[a.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2";a[a.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2";a[a.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=
37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";a[a.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";a[a.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC";a[a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(b.CompressedTextureFormat||(b.CompressedTextureFormat={}));b.UniformType=void 0;(function(a){a[a.FLOAT=5126]="FLOAT";a[a.FLOAT_VEC2=35664]="FLOAT_VEC2";a[a.FLOAT_VEC3=35665]="FLOAT_VEC3";a[a.FLOAT_VEC4=35666]=
"FLOAT_VEC4";a[a.INT=5124]="INT";a[a.INT_VEC2=35667]="INT_VEC2";a[a.INT_VEC3=35668]="INT_VEC3";a[a.INT_VEC4=35669]="INT_VEC4";a[a.BOOL=35670]="BOOL";a[a.BOOL_VEC2=35671]="BOOL_VEC2";a[a.BOOL_VEC3=35672]="BOOL_VEC3";a[a.BOOL_VEC4=35673]="BOOL_VEC4";a[a.FLOAT_MAT2=35674]="FLOAT_MAT2";a[a.FLOAT_MAT3=35675]="FLOAT_MAT3";a[a.FLOAT_MAT4=35676]="FLOAT_MAT4";a[a.SAMPLER_2D=35678]="SAMPLER_2D";a[a.SAMPLER_CUBE=35680]="SAMPLER_CUBE";a[a.UNSIGNED_INT=5125]="UNSIGNED_INT";a[a.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2";
a[a.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3";a[a.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4";a[a.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3";a[a.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4";a[a.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2";a[a.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4";a[a.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2";a[a.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3";a[a.SAMPLER_3D=35679]="SAMPLER_3D";a[a.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW";a[a.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY";a[a.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW";
a[a.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW";a[a.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D";a[a.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D";a[a.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE";a[a.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY";a[a.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D";a[a.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D";a[a.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE";a[a.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"})(b.UniformType||
(b.UniformType={}));b.SyncParameter=void 0;(function(a){a[a.OBJECT_TYPE=37138]="OBJECT_TYPE";a[a.SYNC_CONDITION=37139]="SYNC_CONDITION";a[a.SYNC_STATUS=37140]="SYNC_STATUS";a[a.SYNC_FLAGS=37141]="SYNC_FLAGS"})(b.SyncParameter||(b.SyncParameter={}));b.SyncStatus=void 0;(function(a){a[a.UNSIGNALED=37144]="UNSIGNALED";a[a.SIGNALED=37145]="SIGNALED"})(b.SyncStatus||(b.SyncStatus={}));b.ClientWaitSyncStatus=void 0;(function(a){a[a.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED";a[a.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED";
a[a.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED";a[a.WAIT_FAILED=37149]="WAIT_FAILED"})(b.ClientWaitSyncStatus||(b.ClientWaitSyncStatus={}));b.SyncCondition=void 0;(function(a){a[a.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"})(b.SyncCondition||(b.SyncCondition={}));b.SyncFlag=void 0;(function(a){a[a.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"})(b.SyncFlag||(b.SyncFlag={}));b.DepthStencilAttachment=33306;b.baseTextureUnit=33984;Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/views/webgl/VertexElementDescriptor":function(){define(["exports"],function(b){class a{constructor(q,f,l,g,h,n=!1,d=0){this.name=q;this.count=f;this.type=l;this.offset=g;this.stride=h;this.normalized=n;this.divisor=d}}b.VertexElementDescriptor=a;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLCircleMaterial":function(){define(["exports","./enums","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],
function(b,a,q,f,l){class g extends q.VTLMaterial{constructor(h){super(h)}geometryInfo(){return g.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return g.ATTRIBUTES}attributesInfo(){return g.ATTRIBUTES_INFO}}g.ATTRIBUTES="circle-radius circle-color circle-opacity circle-stroke-width circle-stroke-color circle-stroke-opacity circle-blur".split(" ");g.GEOMETRY_LAYOUT=[new l.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,4)];g.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:a.EncodingType.R8_UNSIGNED},
"circle-color":{name:"color",type:a.EncodingType.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:a.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:a.EncodingType.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:a.EncodingType.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:a.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-blur":{name:"blur",type:a.EncodingType.R8_UNSIGNED,precisionFactor:32}};
b.VTLCircleMaterial=g;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLFillMaterial":function(){define(["exports","./enums","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(b,a,q,f,l){class g extends q.VTLMaterial{constructor(n){super(n)}geometryInfo(){return g.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return g.ATTRIBUTES}attributesInfo(){return g.ATTRIBUTES_INFO}}g.ATTRIBUTES=["fill-color",
"fill-opacity","fill-pattern"];g.GEOMETRY_LAYOUT=[new l.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,4)];g.ATTRIBUTES_INFO={"fill-color":{name:"color",type:a.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:a.EncodingType.R8_UNSIGNED,precisionFactor:100},"fill-pattern":{name:"tlbr",type:a.EncodingType.R16G16B16A16_PATTERN,isOptional:!0}};class h extends q.VTLMaterial{constructor(n,d){super(n);this._usefillColor=d}geometryInfo(){return h.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return this._usefillColor?
h.ATTRIBUTES_FILL:h.ATTRIBUTES_OUTLINE}attributesInfo(){return this._usefillColor?h.ATTRIBUTES_INFO_FILL:h.ATTRIBUTES_INFO_OUTLINE}}h.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"];h.ATTRIBUTES_FILL=["fill-color","fill-opacity"];h.GEOMETRY_LAYOUT=[new l.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,8),new l.VertexElementDescriptor("a_offset",2,f.DataType.BYTE,4,8),new l.VertexElementDescriptor("a_xnormal",2,f.DataType.BYTE,6,8)];h.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",
type:a.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:a.EncodingType.R8_UNSIGNED,precisionFactor:100}};h.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:a.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:a.EncodingType.R8_UNSIGNED,precisionFactor:100}};b.VTLFillMaterial=g;b.VTLOutlineMaterial=h;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLLineMaterial":function(){define(["exports","./enums","./VTLMaterial",
"../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(b,a,q,f,l){class g extends q.VTLMaterial{constructor(h){super(h)}geometryInfo(){return g.GEOMETRY_LAYOUT}opacityInfo(){return null}attributes(){return g.ATTRIBUTES}attributesInfo(){return g.ATTRIBUTES_INFO}}g.ATTRIBUTES="line-blur line-color line-gap-width line-offset line-opacity line-width line-pattern line-dasharray".split(" ");g.GEOMETRY_LAYOUT=[new l.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,16),new l.VertexElementDescriptor("a_extrude_offset",
4,f.DataType.BYTE,4,16),new l.VertexElementDescriptor("a_dir_normal",4,f.DataType.BYTE,8,16),new l.VertexElementDescriptor("a_accumulatedDistance",2,f.DataType.UNSIGNED_SHORT,12,16)];g.ATTRIBUTES_INFO={"line-width":{name:"width",type:a.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:a.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:a.EncodingType.R8_SIGNED,precisionFactor:2},"line-color":{name:"color",type:a.EncodingType.R8G8B8A8_COLOR},
"line-opacity":{name:"opacity",type:a.EncodingType.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:a.EncodingType.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:a.EncodingType.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:a.EncodingType.R16G16B16A16_DASHARRAY,isOptional:!0}};b.VTLLineMaterial=g;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLSymbolMaterial":function(){define(["exports",
"./enums","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(b,a,q,f,l){const g=[new l.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,16),new l.VertexElementDescriptor("a_vertexOffset",2,f.DataType.SHORT,4,16),new l.VertexElementDescriptor("a_texAngleRange",4,f.DataType.UNSIGNED_BYTE,8,16),new l.VertexElementDescriptor("a_levelInfo",4,f.DataType.UNSIGNED_BYTE,12,16)],h=[new l.VertexElementDescriptor("a_opacityInfo",1,f.DataType.UNSIGNED_BYTE,0,1)];
class n extends q.VTLMaterial{constructor(e){super(e)}geometryInfo(){return g}opacityInfo(){return h}attributes(){return n.ATTRIBUTES}attributesInfo(){return n.ATTRIBUTES_INFO}}n.ATTRIBUTES="icon-color icon-opacity icon-halo-blur icon-halo-color icon-halo-width icon-size".split(" ");n.ATTRIBUTES_INFO={"icon-color":{name:"color",type:a.EncodingType.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:a.EncodingType.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:a.EncodingType.R8G8B8A8_COLOR},
"icon-halo-width":{name:"halo_width",type:a.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:a.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:a.EncodingType.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};class d extends q.VTLMaterial{constructor(e){super(e)}geometryInfo(){return g}opacityInfo(){return h}attributes(){return d.ATTRIBUTES}attributesInfo(){return d.ATTRIBUTES_INFO}}d.ATTRIBUTES="text-color text-opacity text-halo-blur text-halo-color text-halo-width text-size".split(" ");
d.ATTRIBUTES_INFO={"text-color":{name:"color",type:a.EncodingType.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",type:a.EncodingType.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:a.EncodingType.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:a.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:a.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:a.EncodingType.R8_UNSIGNED,isLayout:!0}};b.VTLIconMaterial=
n;b.VTLTextMaterial=d;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["../expression/expression","../expression/types"],function(b,a){class q{constructor(f){this._expression=f}filter(f,l){if(!this._expression)return!0;try{return this._expression.evaluate(f,l)}catch(g){return console.log(g.message),!0}}static createFilter(f){if(!f)return null;this.isLegacyFilter(f)&&(f=this.convertLegacyFilter(f));try{const l=b.createExpression(f,
null,a.booleanType);return new q(l)}catch(l){return console.log(l.message),null}}static isLegacyFilter(f){if(!Array.isArray(f)||0===f.length)return!0;switch(f[0]){case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return 3===f.length&&"string"===typeof f[1]&&!Array.isArray(f[2]);case "in":return 3<=f.length&&"string"===typeof f[1]&&!Array.isArray(f[2]);case "!in":return!0;case "any":case "all":for(let l=1;l<f.length;l++)if(this.isLegacyFilter(f[l]))return!0;return!1;
case "none":return!0;case "has":return 2===f.length&&("$id"===f[1]||"$type"===f[1]);case "!has":return!0;default:return!1}}static convertLegacyFilter(f){if(!Array.isArray(f)||0===f.length)return!0;const l=f[0];if(1===f.length)return"any"!==l;switch(l){case "\x3d\x3d":return q.convertComparison("\x3d\x3d",f[1],f[2]);case "!\x3d":return q.negate(q.convertComparison("\x3d\x3d",f[1],f[2]));case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return q.convertComparison(l,f[1],f[2]);case "in":return q.convertIn(f[1],
f.slice(2));case "!in":return q.negate(q.convertIn(f[1],f.slice(2)));case "any":case "all":case "none":return q.convertCombining(l,f.slice(1));case "has":return q.convertHas(f[1]);case "!has":return q.negate(q.convertHas(f[1]));default:throw Error("Unexpected legacy filter.");}}static convertComparison(f,l,g){switch(l){case "$type":return[f,["geometry-type"],g];case "$id":return[f,["id"],g];default:return[f,["get",l],g]}}static convertIn(f,l){switch(f){case "$type":return["in",["geometry-type"],["literal",
l]];case "$id":return["in",["id"],["literal",l]];default:return["in",["get",f],["literal",l]]}}static convertHas(f){switch(f){case "$type":return!0;case "$id":return["has-id"];default:return["has",f]}}static convertCombining(f,l){return[f].concat(l.map(this.convertLegacyFilter))}static negate(f){return["!",f]}}return q})},"esri/views/2d/engine/vectorTiles/expression/expression":function(){define("exports ../../../../../Color ../../../../../core/colorUtils ../../../../../geometry/support/TileClipper ../../../unitBezier ../GeometryUtils ./types".split(" "),
function(b,a,q,f,l,g,h){function n(c,m,u){var B=typeof c;if("string"===B||"boolean"===B||"number"===B||null===c){if(u)switch(u.kind){case "string":"string"!==B&&(c=Y.toString(c));break;case "number":"number"!==B&&(c=Y.toNumber(c));break;case "color":c=Y.toColor(c)}c=["literal",c]}if(!Array.isArray(c)||0===c.length)throw Error("Expression must be a non empty array");B=c[0];if("string"!==typeof B)throw Error("First element of expression must be a string");const L=oa[B];if(void 0===L)throw Error(`Invalid expression operator "${B}"`);
if(!L)throw Error(`Unimplemented expression operator "${B}"`);return L.parse(c,m,u)}class d{constructor(c){this._parent=c;this._vars={}}add(c,m){this._vars[c]=m}get(c){return this._vars[c]?this._vars[c]:this._parent?this._parent.get(c):null}}class e{constructor(){this.type=h.valueType}static parse(c){if(1<c.length)throw Error('"id" does not expect arguments');return new e}evaluate(c,m){return c?.id}}class k{constructor(){this.type=h.stringType}static parse(c){if(1<c.length)throw Error('"geometry-type" does not expect arguments');
return new k}evaluate(c,m){if(!c)return null;switch(c.type){case f.GeometryType.Point:return"Point";case f.GeometryType.LineString:return"LineString";case f.GeometryType.Polygon:return"Polygon";default:return null}}}class x{constructor(){this.type=h.objectType}static parse(c){if(1<c.length)throw Error('"properties" does not expect arguments');return new x}evaluate(c,m){return c?.values}}class C{constructor(){this.type=h.numberType}static parse(c){if(1<c.length)throw Error('"zoom" does not expect arguments');
return new C}evaluate(c,m){return m}}class r{constructor(c,m,u){this._lhs=c;this._rhs=m;this._compare=u;this.type=h.booleanType}static parse(c,m,u){if(3!==c.length&&4!==c.length)throw Error(`"${c[0]}" expects 2 or 3 arguments`);if(4===c.length)throw Error(`"${c[0]}" collator not supported`);return new r(n(c[1],m),n(c[2],m),u)}evaluate(c,m){return this._compare(this._lhs.evaluate(c,m),this._rhs.evaluate(c,m))}}class p extends r{static parse(c,m){return r.parse(c,m,(u,B)=>u===B)}}class v extends r{static parse(c,
m){return r.parse(c,m,(u,B)=>u!==B)}}class F extends r{static parse(c,m){return r.parse(c,m,(u,B)=>u<B)}}class G extends r{static parse(c,m){return r.parse(c,m,(u,B)=>u<=B)}}class H extends r{static parse(c,m){return r.parse(c,m,(u,B)=>u>B)}}class z extends r{static parse(c,m){return r.parse(c,m,(u,B)=>u>=B)}}class D{constructor(c){this._arg=c;this.type=h.booleanType}static parse(c,m){if(2!==c.length)throw Error('"!" expects 1 argument');return new D(n(c[1],m))}evaluate(c,m){return!this._arg.evaluate(c,
m)}}class A{constructor(c){this._args=c;this.type=h.booleanType}static parse(c,m){const u=[];for(let B=1;B<c.length;B++)u.push(n(c[B],m));return new A(u)}evaluate(c,m){for(const u of this._args)if(!u.evaluate(c,m))return!1;return!0}}class K{constructor(c){this._args=c;this.type=h.booleanType}static parse(c,m){const u=[];for(let B=1;B<c.length;B++)u.push(n(c[B],m));return new K(u)}evaluate(c,m){for(const u of this._args)if(u.evaluate(c,m))return!0;return!1}}class t{constructor(c){this._args=c;this.type=
h.booleanType}static parse(c,m){const u=[];for(let B=1;B<c.length;B++)u.push(n(c[B],m));return new t(u)}evaluate(c,m){for(const u of this._args)if(u.evaluate(c,m))return!1;return!0}}class y{constructor(c,m,u){this.type=c;this._args=m;this._fallback=u}static parse(c,m,u){if(4>c.length)throw Error('"case" expects at least 3 arguments');if(1===c.length%2)throw Error('"case" expects an odd number of arguments');let B;const L=[];for(let P=1;P<c.length-1;P+=2){const U=n(c[P],m),S=n(c[P+1],m,u);B||(B=S.type);
L.push({condition:U,output:S})}c=n(c[c.length-1],m,u);B||(B=c.type);return new y(B,L,c)}evaluate(c,m){for(const u of this._args)if(u.condition.evaluate(c,m))return u.output.evaluate(c,m);return this._fallback.evaluate(c,m)}}class w{constructor(c,m){this.type=c;this._args=m}static parse(c,m){if(2>c.length)throw Error('"coalesce" expects at least 1 argument');let u;const B=[];for(let L=1;L<c.length;L++){const P=n(c[L],m);u||(u=P.type);B.push(P)}return new w(u,B)}evaluate(c,m){for(const u of this._args){const B=
u.evaluate(c,m);if(null!==B)return B}return null}}class E{constructor(c,m,u,B,L){this.type=c;this._input=m;this._labels=u;this._outputs=B;this._fallback=L}static parse(c,m){if(3>c.length)throw Error('"match" expects at least 3 arguments');if(0===c.length%2)throw Error('"case" expects an even number of arguments');let u;const B=n(c[1],m),L=[],P={};let U;for(let aa=2;aa<c.length-1;aa+=2){var S=c[aa];Array.isArray(S)||(S=[S]);for(const fa of S){S=typeof fa;if("string"!==S&&"number"!==S)throw Error('"match" requires string or number literal as labels');
if(!U)U=S;else if(S!==U)throw Error('"match" requires labels to have the same type');P[fa]=L.length}S=n(c[aa+1],m);u||(u=S.type);L.push(S)}return new E(u,B,P,L,n(c[c.length-1],m))}evaluate(c,m){const u=this._input.evaluate(c,m);return(this._outputs[this._labels[u]]||this._fallback).evaluate(c,m)}}class I{constructor(c,m,u,B,L){this._operator=c;this.type=m;this.interpolation=u;this.input=B;this._stops=L}static parse(c,m,u){const B=c[0];if(5>c.length)throw Error(`"${B}" expects at least 4 arguments`);
const L=c[1];if(!Array.isArray(L)||0===L.length)throw Error(`"${L}" is not a valid interpolation`);switch(L[0]){case "linear":if(1!==L.length)throw Error("Linear interpolation cannot have parameters");break;case "exponential":if(2!==L.length||"number"!==typeof L[1])throw Error("Exponential interpolation requires one numeric argument");break;case "cubic-bezier":if(5!==L.length)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(var P=1;5>P;P++){var U=
L[P];if("number"!==typeof U||0>U||1<U)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");}break;default:throw Error(`"${c[0]}" unknown interpolation type "${L[0]}"`);}if(1!==c.length%2)throw Error(`"${B}" expects an even number of arguments`);P=n(c[2],m,h.numberType);let S;"interpolate-hcl"===B||"interpolate-lab"===B?S=h.colorType:u&&"value"!==u.kind&&(S=u);u=[];for(U=3;U<c.length;U+=2){const aa=c[U];if("number"!==typeof aa)throw Error(`"${B}" requires stop inputs as literal numbers`);
if(u.length&&u[u.length-1][0]>=aa)throw Error(`"${B}" requires strictly ascending stop inputs`);const fa=n(c[U+1],m,S);S||(S=fa.type);u.push([aa,fa])}if(S&&S!==h.colorType&&S!==h.numberType&&("array"!==S.kind||S.itemType!==h.numberType))throw Error(`"${B}" cannot interpolate type ${h.typeToString(S)}`);return new I(B,S,L,P,u)}evaluate(c,m){var u=this._stops;if(1===u.length)return u[0][1].evaluate(c,m);var B=this.input.evaluate(c,m);if(B<=u[0][0])return u[0][1].evaluate(c,m);if(B>=u[u.length-1][0])return u[u.length-
1][1].evaluate(c,m);let L=0;for(;++L<u.length&&!(B<u[L][0]););const P=I.interpolationRatio(this.interpolation,B,u[L-1][0],u[L][0]);B=u[L-1][1].evaluate(c,m);const U=u[L][1].evaluate(c,m);if("interpolate"===this._operator){if("array"===this.type.kind&&Array.isArray(B)&&Array.isArray(U))return B.map((S,aa)=>g.interpolate(S,U[aa],P));if("color"===this.type.kind&&B instanceof a&&U instanceof a)return B=new a(B),c=new a(U),new a([g.interpolate(B.r,c.r,P),g.interpolate(B.g,c.g,P),g.interpolate(B.b,c.b,
P),g.interpolate(B.a,c.a,P)]);if("number"===this.type.kind&&"number"===typeof B&&"number"===typeof U)return g.interpolate(B,U,P);throw Error(`"${this._operator}" cannot interpolate type ${h.typeToString(this.type)}`);}if("interpolate-hcl"===this._operator)return c=q.toLCH(B),m=q.toLCH(U),u=m.h-c.h,c=q.toRGB({h:c.h+P*(180<u||-180>u?u-360*Math.round(u/360):u),c:g.interpolate(c.c,m.c,P),l:g.interpolate(c.l,m.l,P)}),new a({a:g.interpolate(B.a,U.a,P),...c});if("interpolate-lab"===this._operator)return c=
q.toLAB(B),m=q.toLAB(U),c=q.toRGB({l:g.interpolate(c.l,m.l,P),a:g.interpolate(c.a,m.a,P),b:g.interpolate(c.b,m.b,P)}),new a({a:g.interpolate(B.a,U.a,P),...c});throw Error(`Unexpected operator "${this._operator}"`);}interpolationUniformValue(c,m){const u=this._stops;if(1===u.length||c>=u[u.length-1][0])return 0;let B=0;for(;++B<u.length&&!(c<u[B][0]););return I.interpolationRatio(this.interpolation,m,u[B-1][0],u[B][0])}getInterpolationRange(c){const m=this._stops;if(1===m.length)return c=m[0][0],[c,
c];var u=m[m.length-1][0];if(c>=u)return[u,u];for(u=0;++u<m.length&&!(c<m[u][0]););return[m[u-1][0],m[u][0]]}static interpolationRatio(c,m,u,B){let L=0;"linear"===c[0]?L=I._exponentialInterpolationRatio(m,1,u,B):"exponential"===c[0]?L=I._exponentialInterpolationRatio(m,c[1],u,B):"cubic-bezier"===c[0]&&(L=l.unitBezier(c[1],c[2],c[3],c[4])(I._exponentialInterpolationRatio(m,1,u,B),1E-5));0>L?L=0:1<L&&(L=1);return L}static _exponentialInterpolationRatio(c,m,u,B){B-=u;if(0===B)return 0;c-=u;return 1===
m?c/B:(m**c-1)/(m**B-1)}}class M{constructor(c,m,u){this.type=c;this._input=m;this._stops=u}static parse(c,m){if(5>c.length)throw Error('"step" expects at least 4 arguments');if(1!==c.length%2)throw Error('"step" expects an even number of arguments');const u=n(c[1],m,h.numberType);let B;const L=[];L.push([-Infinity,n(c[2],m)]);for(let P=3;P<c.length;P+=2){const U=c[P];if("number"!==typeof U)throw Error('"step" requires stop inputs as literal numbers');if(L.length&&L[L.length-1][0]>=U)throw Error('"step" requires strictly ascending stop inputs');
const S=n(c[P+1],m);B||(B=S.type);L.push([U,S])}return new M(B,u,L)}evaluate(c,m){const u=this._stops;if(1===u.length)return u[0][1].evaluate(c,m);const B=this._input.evaluate(c,m);let L=0;for(;++L<u.length&&!(B<u[L][0]););return this._stops[L-1][1].evaluate(c,m)}}class O{constructor(c,m){this.type=c;this._output=m}static parse(c,m,u){if(4>c.length)throw Error('"let" expects at least 3 arguments');if(1===c.length%2)throw Error('"let" expects an odd number of arguments');const B=new d(m);for(let L=
1;L<c.length-1;L+=2){const P=c[L];if("string"!==typeof P)throw Error(`"let" requires a string to define variable names - found ${P}`);B.add(P,n(c[L+1],m))}c=n(c[c.length-1],B,u);return new O(c.type,c)}evaluate(c,m){return this._output.evaluate(c,m)}}class Q{constructor(c,m){this.type=c;this.output=m}static parse(c,m,u){if(2!==c.length||"string"!==typeof c[1])throw Error('"var" requires just one literal string argument');m=m.get(c[1]);if(!m)throw Error(`${c[1]} must be defined before being used in a "var" expression`);
return new Q(u||h.valueType,m)}evaluate(c,m){return this.output.evaluate(c,m)}}class V{constructor(c,m,u){this.type=c;this._index=m;this._array=u}static parse(c,m){if(3!==c.length)throw Error('"at" expects 2 arguments');const u=n(c[1],m,h.numberType);c=n(c[2],m);return new V(c.type.itemType,u,c)}evaluate(c,m){const u=this._index.evaluate(c,m);c=this._array.evaluate(c,m);if(0>u||u>=c.length)throw Error('"at" index out of bounds');if(u!==Math.floor(u))throw Error('"at" index must be an integer');return c[u]}}
class X{constructor(c,m){this._key=c;this._obj=m;this.type=h.valueType}static parse(c,m){let u;switch(c.length){case 2:return u=n(c[1],m),new X(u);case 3:return u=n(c[1],m),c=n(c[2],m),new X(u,c);default:throw Error('"get" expects 1 or 2 arguments');}}evaluate(c,m){const u=this._key.evaluate(c,m);return this._obj?this._obj.evaluate(c,m)[u]:c?.values[u]}}class Z{constructor(c,m){this._key=c;this._obj=m;this.type=h.booleanType}static parse(c,m){let u;switch(c.length){case 2:return u=n(c[1],m),new Z(u);
case 3:return u=n(c[1],m),c=n(c[2],m),new Z(u,c);default:throw Error('"has" expects 1 or 2 arguments');}}evaluate(c,m){const u=this._key.evaluate(c,m);return this._obj?(c=this._obj.evaluate(c,m),u in c):!!c?.values[u]}}class ha{constructor(c,m){this._key=c;this._vals=m;this.type=h.booleanType}static parse(c,m){if(3!==c.length)throw Error('"in" expects 2 arguments');return new ha(n(c[1],m),n(c[2],m))}evaluate(c,m){const u=this._key.evaluate(c,m);return this._vals.evaluate(c,m).includes(u)}}class ba{constructor(c,
m,u){this._item=c;this._array=m;this._from=u;this.type=h.numberType}static parse(c,m){if(3>c.length||4<c.length)throw Error('"index-of" expects 3 or 4 arguments');const u=n(c[1],m),B=n(c[2],m);return 4===c.length?(c=n(c[3],m,h.numberType),new ba(u,B,c)):new ba(u,B)}evaluate(c,m){const u=this._item.evaluate(c,m),B=this._array.evaluate(c,m);if(this._from){c=this._from.evaluate(c,m);if(c!==Math.floor(c))throw Error('"index-of" index must be an integer');return B.indexOf(u,c)}return B.indexOf(u)}}class J{constructor(c){this._arg=
c;this.type=h.numberType}static parse(c,m){if(2!==c.length)throw Error('"length" expects 2 arguments');c=n(c[1],m);return new J(c)}evaluate(c,m){c=this._arg.evaluate(c,m);if("string"===typeof c||Array.isArray(c))return c.length;throw Error('"length" expects string or array');}}class N{constructor(c,m,u,B){this.type=c;this._array=m;this._from=u;this._to=B}static parse(c,m){if(3>c.length||4<c.length)throw Error('"slice" expects 2 or 3 arguments');const u=n(c[1],m),B=n(c[2],m,h.numberType);if(B.type!==
h.numberType)throw Error('"slice" index must return a number');if(4===c.length){c=n(c[3],m,h.numberType);if(c.type!==h.numberType)throw Error('"slice" index must return a number');return new N(u.type,u,B,c)}return new N(u.type,u,B)}evaluate(c,m){const u=this._array.evaluate(c,m);if(!Array.isArray(u)&&"string"!==typeof u)throw Error('"slice" input must be an array or a string');const B=this._from.evaluate(c,m);if(0>B||B>=u.length)throw Error('"slice" index out of bounds');if(B!==Math.floor(B))throw Error('"slice" index must be an integer');
if(this._to){c=this._to.evaluate(c,m);if(0>c||c>=u.length)throw Error('"slice" index out of bounds');if(c!==Math.floor(c))throw Error('"slice" index must be an integer');return u.slice(B,c)}return u.slice(B)}}class R{constructor(){this.type=h.booleanType}static parse(c){if(1!==c.length)throw Error('"has-id" expects no arguments');return new R}evaluate(c,m){return void 0!==c?.id}}class T{constructor(c,m){this._args=c;this._calculate=m;this.type=h.numberType}static parse(c,m,u){c=c.slice(1).map(B=>
n(B,m));return new T(c,u)}evaluate(c,m){let u;this._args&&(u=this._args.map(B=>B.evaluate(c,m)));return this._calculate(u)}}class da extends T{static parse(c,m){switch(c.length){case 2:return T.parse(c,m,u=>-u[0]);case 3:return T.parse(c,m,u=>u[0]-u[1]);default:throw Error('"-" expects 1 or 2 arguments');}}}class pa extends T{static parse(c,m){return T.parse(c,m,u=>{let B=1;for(const L of u)B*=L;return B})}}class qa extends T{static parse(c,m){if(3===c.length)return T.parse(c,m,u=>u[0]/u[1]);throw Error('"/" expects 2 arguments');
}}class ra extends T{static parse(c,m){if(3===c.length)return T.parse(c,m,u=>u[0]%u[1]);throw Error('"%" expects 2 arguments');}}class sa extends T{static parse(c,m){if(3===c.length)return T.parse(c,m,u=>u[0]**u[1]);throw Error('"^" expects 1 or 2 arguments');}}class ta extends T{static parse(c,m){return T.parse(c,m,u=>{let B=0;for(const L of u)B+=L;return B})}}class W{constructor(c,m){this._args=c;this._calculate=m;this.type=h.numberType}static parse(c,m){const u=c.slice(1).map(B=>n(B,m));return new W(u,
W.ops[c[0]])}evaluate(c,m){let u;this._args&&(u=this._args.map(B=>B.evaluate(c,m)));return this._calculate(u)}}W.ops={abs:c=>Math.abs(c[0]),acos:c=>Math.acos(c[0]),asin:c=>Math.asin(c[0]),atan:c=>Math.atan(c[0]),ceil:c=>Math.ceil(c[0]),cos:c=>Math.cos(c[0]),e:()=>Math.E,floor:c=>Math.floor(c[0]),ln:c=>Math.log(c[0]),ln2:()=>Math.LN2,log10:c=>Math.log(c[0])/Math.LN10,log2:c=>Math.log(c[0])/Math.LN2,max:c=>Math.max(...c),min:c=>Math.min(...c),pi:()=>Math.PI,round:c=>Math.round(c[0]),sin:c=>Math.sin(c[0]),
sqrt:c=>Math.sqrt(c[0]),tan:c=>Math.tan(c[0])};class ia{constructor(c){this._args=c;this.type=h.stringType}static parse(c,m){return new ia(c.slice(1).map(u=>n(u,m)))}evaluate(c,m){return this._args.map(u=>u.evaluate(c,m)).join("")}}class ea{constructor(c,m){this._arg=c;this._calculate=m;this.type=h.stringType}static parse(c,m){if(2!==c.length)throw Error(`${c[0]} expects 1 argument`);m=n(c[1],m);return new ea(m,ea.ops[c[0]])}evaluate(c,m){return this._calculate(this._arg.evaluate(c,m))}}ea.ops={downcase:c=>
c.toLowerCase(),upcase:c=>c.toUpperCase()};class ja{constructor(c){this._args=c;this.type=h.colorType}static parse(c,m){if(4!==c.length)throw Error('"rgb" expects 3 arguments');c=c.slice(1).map(u=>n(u,m));return new ja(c)}evaluate(c,m){const u=this._validate(this._args[0].evaluate(c,m)),B=this._validate(this._args[1].evaluate(c,m));c=this._validate(this._args[2].evaluate(c,m));return new a({r:u,g:B,b:c})}_validate(c){if("number"!==typeof c||0>c||255<c)throw Error(`${c}: invalid color component`);
return Math.round(c)}}class ka{constructor(c){this._args=c;this.type=h.colorType}static parse(c,m){if(5!==c.length)throw Error('"rgba" expects 4 arguments');c=c.slice(1).map(u=>n(u,m));return new ka(c)}evaluate(c,m){const u=this._validate(this._args[0].evaluate(c,m)),B=this._validate(this._args[1].evaluate(c,m)),L=this._validate(this._args[2].evaluate(c,m));c=this._validateAlpha(this._args[3].evaluate(c,m));return new a({r:u,g:B,b:L,a:c})}_validate(c){if("number"!==typeof c||0>c||255<c)throw Error(`${c}: invalid color component`);
return Math.round(c)}_validateAlpha(c){if("number"!==typeof c||0>c||1<c)throw Error(`${c}: invalid alpha color component`);return c}}class la{constructor(c){this._color=c;this.type=h.arrayType(h.numberType,4)}static parse(c,m){if(2!==c.length)throw Error('"to-rgba" expects 1 argument');c=n(c[1],m);return new la(c)}evaluate(c,m){return(new a(this._color.evaluate(c,m))).toRgba()}}class ca{constructor(c,m){this.type=c;this._args=m}static parse(c,m){var u=c[0];if(2>c.length)throw Error(`${u} expects at least one argument`);
let B=1,L;if("array"===u){if(2<c.length){switch(c[1]){case "string":L=h.stringType;break;case "number":L=h.numberType;break;case "boolean":L=h.booleanType;break;default:throw Error('"array" type argument must be string, number or boolean');}B++}else L=h.valueType;if(3<c.length){var P=c[2];if(null!==P&&("number"!==typeof P||0>P||P!==Math.floor(P)))throw Error('"array" length argument must be a positive integer literal');B++}L=h.arrayType(L,P)}else switch(u){case "string":L=h.stringType;break;case "number":L=
h.numberType;break;case "boolean":L=h.booleanType;break;case "object":L=h.objectType}for(u=[];B<c.length;B++)P=n(c[B],m),u.push(P);return new ca(L,u)}evaluate(c,m){let u;for(const B of this._args){const L=B.evaluate(c,m);u=h.getType(L);if(h.matchType(u,this.type))return L}throw Error(`Expected ${h.typeToString(this.type)} but got ${h.typeToString(u)}`);}}class Y{constructor(c,m){this.type=c;this._args=m}static parse(c,m){var u=c[0];const B=Y.types[u];if(B===h.booleanType||B===h.stringType){if(2!==
c.length)throw Error(`${u} expects one argument`);}else if(2>c.length)throw Error(`${u} expects at least one argument`);u=[];for(let L=1;L<c.length;L++){const P=n(c[L],m);u.push(P)}return new Y(B,u)}evaluate(c,m){if(this.type===h.booleanType)return!!this._args[0].evaluate(c,m);if(this.type===h.stringType)return h.valueToString(this._args[0].evaluate(c,m));if(this.type===h.numberType){for(const B of this._args){var u=Number(B.evaluate(c,m));if(!isNaN(u))return u}return null}if(this.type===h.colorType){for(u of this._args)try{const B=
Y.toColor(u.evaluate(c,m));if(B instanceof a)return B}catch{}return null}}static toBoolean(c){return!!c}static toString(c){return h.valueToString(c)}static toNumber(c){const m=Number(c);if(isNaN(m))throw Error(`"${c}" is not a number`);return m}static toColor(c){if(c instanceof a)return c;if("string"===typeof c){const m=a.fromString(c);if(m)return m;throw Error(`"${c}" is not a color`);}if(Array.isArray(c))return a.fromArray(c);throw Error(`"${c}" is not a color`);}}Y.types={"to-boolean":h.booleanType,
"to-color":h.colorType,"to-number":h.numberType,"to-string":h.stringType};class ma{constructor(c){this._val=c;this.type=h.getType(c)}static parse(c){if(2!==c.length)throw Error('"literal" expects 1 argument');return new ma(c[1])}evaluate(c,m){return this._val}}class na{constructor(c){this._arg=c;this.type=h.stringType}static parse(c,m){if(2!==c.length)throw Error('"typeof" expects 1 argument');return new na(n(c[1],m))}evaluate(c,m){return h.typeToString(h.getType(this._arg.evaluate(c,m)))}}const oa=
{array:ca,boolean:ca,collator:null,format:null,image:null,literal:ma,number:ca,"number-format":null,object:ca,string:ca,"to-boolean":Y,"to-color":Y,"to-number":Y,"to-string":Y,typeof:na,accumulated:null,"feature-state":null,"geometry-type":k,id:e,"line-progress":null,properties:x,at:V,get:X,has:Z,in:ha,"index-of":ba,length:J,slice:N,"!":D,"!\x3d":v,"\x3c":F,"\x3c\x3d":G,"\x3d\x3d":p,"\x3e":H,"\x3e\x3d":z,all:A,any:K,case:y,coalesce:w,match:E,within:null,interpolate:I,"interpolate-hcl":I,"interpolate-lab":I,
step:M,let:O,var:Q,concat:ia,downcase:ea,"is-supported-script":null,"resolved-locale":null,upcase:ea,rgb:ja,rgba:ka,"to-rgba":la,"-":da,"*":pa,"/":qa,"%":ra,"^":sa,"+":ta,abs:W,acos:W,asin:W,atan:W,ceil:W,cos:W,e:W,floor:W,ln:W,ln2:W,log10:W,log2:W,max:W,min:W,pi:W,round:W,sin:W,sqrt:W,tan:W,zoom:C,"heatmap-density":null,"has-id":R,none:t};b.ALL=A;b.ANY=K;b.Add=ta;b.Assert=ca;b.At=V;b.Calculate=W;b.Case=y;b.Coalesce=w;b.Coerce=Y;b.Concat=ia;b.Div=qa;b.EQ=p;b.GE=z;b.GT=H;b.GeomType=k;b.Get=X;b.Has=
Z;b.HasID=R;b.ID=e;b.In=ha;b.IndexOf=ba;b.Interpolate=I;b.LE=G;b.LT=F;b.Length=J;b.Let=O;b.Literal=ma;b.Match=E;b.Mod=ra;b.Mul=pa;b.NE=v;b.NONE=t;b.NOT=D;b.Pow=sa;b.Properties=x;b.Rgb=ja;b.Rgba=ka;b.Slice=N;b.Step=M;b.String=ea;b.Sub=da;b.ToRgba=la;b.TypeOf=na;b.Var=Q;b.Zoom=C;b.createExpression=n;b.ops=oa;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/unitBezier":function(){define(["exports"],function(b){function a(l,g,h,n){function d(v,F){var G;let H,z;H=v;for(G=
0;8>G;G++){z=((x*H+k)*H+e)*H-v;if(Math.abs(z)<F)return H;var D=(3*x*H+2*k)*H+e;if(1E-6>Math.abs(D))break;H-=z/D}D=0;G=1;H=v;if(H<D)return D;if(H>G)return G;for(;D<G;){z=((x*H+k)*H+e)*H;if(Math.abs(z-v)<F)break;v>z?D=H:G=H;H=.5*(G-D)+D}return H}const e=3*l,k=3*(h-l)-e,x=1-e-k,C=3*g,r=3*(n-g)-C,p=1-C-r;return function(v,F=1E-6){v=d(v,F);return((p*v+r)*v+C)*v}}const q=/^cubic-bezier\((.*)\)/,f={};f.ease=a(.25,.1,.25,1);f.linear=a(0,0,1,1);f.easeIn=f["ease-in"]=a(.42,0,1,1);f.easeOut=f["ease-out"]=a(0,
0,.58,1);f.easeInOut=f["ease-in-out"]=a(.42,0,.58,1);b.easingFunctions=f;b.parse=function(l){let g=f[l]||null;!g&&(l=q.exec(l))&&(l=l[1].split(",").map(h=>parseFloat(h.trim())),4!==l.length||l.some(h=>isNaN(h))||(g=a.apply(a,l)));return g};b.unitBezier=a;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/expression/types":function(){define(["exports","../../../../../Color"],function(b,a){function q(p,v){return{kind:"array",itemType:p,n:v}}function f(p){if("array"===
p.kind){const v=f(p.itemType);return"number"===typeof p.n?`array<${v}, ${p.n}>`:"value"===p.itemType.kind?"array":`array<${v}>`}return p.kind}function l(p){if(null===p)return h;if("string"===typeof p)return d;if("boolean"===typeof p)return e;if("number"===typeof p)return n;if(p instanceof a)return k;if(Array.isArray(p)){let v;for(const F of p){const G=l(F);if(!v)v=G;else if(v!==G){v=C;break}}return q(v||C,p.length)}return"object"===typeof p?x:C}function g(p,v){if("array"===v.kind)return"array"===
p.kind&&(0===p.n&&"value"===p.itemType.kind||g(p.itemType,v.itemType))&&("number"!==typeof v.n||v.n===p.n);if("value"===v.kind)for(const F of r)if(g(p,F))return!0;return v.kind===p.kind}const h={kind:"null"},n={kind:"number"},d={kind:"string"},e={kind:"boolean"},k={kind:"color"},x={kind:"object"},C={kind:"value"},r=[h,n,d,e,k,x,q(C)];b.arrayType=q;b.booleanType=e;b.colorType=k;b.getType=l;b.matchType=g;b.nullType=h;b.numberType=n;b.objectType=x;b.stringType=d;b.typeToString=f;b.valueToString=function(p){if(null===
p)return"";const v=typeof p;return"string"===v?p:"number"===v||"boolean"===v?String(p):p instanceof a?p.toString():JSON.stringify(p)};b.valueType=C;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["../../../../../Color","../GeometryUtils","../expression/expression","../expression/types"],function(b,a,q,f){class l{constructor(g,h){this.isDataDriven=!1;this.interpolator=null;switch(g.type){case "number":var n=!0;
break;case "color":n=!0;break;case "array":n="number"===g.value;break;default:n=!1}null==h&&(h=g.default);if(Array.isArray(h)&&0<h.length&&q.ops[h[0]]){n={number:f.numberType,color:f.colorType,string:f.stringType,boolean:f.booleanType,enum:f.stringType};try{var d="array"===g.type?f.arrayType(n[g.value]||f.valueType,g.length):n[g.type];const e=q.createExpression(h,null,d);this.getValue=this._buildExpression(e,g);this.isDataDriven=!0;e instanceof q.Interpolate&&e.input instanceof q.Zoom&&(this.interpolator=
e)}catch(e){console.log(e.message),this.getValue=this._buildSimple(g.default)}}else{n&&"interval"===h.type&&(n=!1);if(d=h?.stops&&0<h.stops.length)for(const e of h.stops)e[1]=this._validate(e[1],g);if(this.isDataDriven=h?!!h.property:!1)if(void 0!==h.default&&(h.default=this._validate(h.default,g)),d)switch(h.type){case "identity":this.getValue=this._buildIdentity(h,g);break;case "categorical":this.getValue=this._buildCategorical(h,g);break;default:this.getValue=n?this._buildInterpolate(h,g):this._buildInterval(h,
g)}else this.getValue=this._buildIdentity(h,g);else d?this.getValue=n?this._buildZoomInterpolate(h):this._buildZoomInterval(h):(h=this._validate(h,g),this.getValue=this._buildSimple(h))}}_validate(g,h){if("number"===h.type){if(null!=h.minimum&&g<h.minimum)return h.minimum;if(null!=h.maximum&&g>h.maximum)return h.maximum}else"color"===h.type?g=l._parseColor(g):"enum"===h.type?"string"===typeof g&&(g=h.values.indexOf(g)):"array"===h.type&&"enum"===h.value?g=g.map(n=>"string"===typeof n?h.values.indexOf(n):
n):"string"===h.type&&(g=f.valueToString(g));return g}_buildSimple(g){return()=>g}_buildExpression(g,h){return(n,d)=>{try{const e=g.evaluate(d,n);return void 0===e?h.default:this._validate(e,h)}catch(e){return console.log(e.message),h.default}}}_buildIdentity(g,h){return(n,d)=>{let e;d&&(e=d.values[g.property]);void 0!==e&&(e=this._validate(e,h));return null!=e?e:void 0!==g.default?g.default:h.default}}_buildCategorical(g,h){return(n,d)=>{let e;d&&(e=d.values[g.property]);e=this._categorical(e,g.stops);
return void 0!==e?e:void 0!==g.default?g.default:h.default}}_buildInterval(g,h){return(n,d)=>{let e;d&&(e=d.values[g.property]);return"number"===typeof e?this._interval(e,g.stops):void 0!==g.default?g.default:h.default}}_buildInterpolate(g,h){return(n,d)=>{let e;d&&(e=d.values[g.property]);return"number"===typeof e?this._interpolate(e,g.stops,g.base||1):void 0!==g.default?g.default:h.default}}_buildZoomInterpolate(g){return h=>this._interpolate(h,g.stops,g.base||1)}_buildZoomInterval(g){return h=>
this._interval(h,g.stops)}_categorical(g,h){const n=h.length;for(let d=0;d<n;d++)if(h[d][0]===g)return h[d][1]}_interval(g,h){const n=h.length;let d=0;for(let e=0;e<n;e++)if(h[e][0]<=g)d=e;else break;return h[d][1]}_interpolate(g,h,n){const d=h.length;for(let x=0;x<d;x++){const C=h[x];if(C[0]<=g)var e=C;else{var k=C;break}}if(e&&k){h=k[0]-e[0];g-=e[0];n=1===n?g/h:(n**g-1)/(n**h-1);if(Array.isArray(e[1])){e=e[1];k=k[1];g=[];for(h=0;h<e.length;h++)g.push(a.interpolate(e[h],k[h],n));return g}return a.interpolate(e[1],
k[1],n)}if(e)return e[1];if(k)return k[1]}static _isEmpty(g){for(const h in g)if(g.hasOwnProperty(h))return!1;return!0}static _parseColor(g){if(Array.isArray(g))return g;"string"===typeof g&&(g=new b(g));if(g instanceof b&&!this._isEmpty(g))return b.toUnitRGBA(g)}}return l})},"esri/views/2d/engine/webgl/definitions":function(){define(["exports"],function(b){b.AttributeDataType=void 0;var a=b.AttributeDataType||(b.AttributeDataType={});a[a.FilterFlags=0]="FilterFlags";a[a.Animation=1]="Animation";
a[a.GPGPU=2]="GPGPU";a[a.VV=3]="VV";a[a.DD0=4]="DD0";a[a.DD1=5]="DD1";a[a.DD2=6]="DD2";b.MAX_TILE_RESHUFFLES_PER_FRAME=1;b.RESHUFFLING_EXEMPT_DRAW_CALLS=10;b.RESHUFFLING_EXEMPT_MEMORY_BYTES=1048576;b.RESHUFFLING_TARGET_DRAW_EFFICIENCY=.75;b.RESHUFFLING_TARGET_MEMORY_EFFICIENCY=.75;b.angleFactor256=256/360;b.animationUnit=2;b.attributeStoreInitialSize=256;b.attributeStoreTextureSize=1024;b.averageGlyphMosaicItem={metrics:{width:15,height:17,left:0,top:-7,advance:14}};b.bitsetFillHasPatternHeightPrecisionFactor=
32;b.bitsetFillHasPatternWidthPrecisionFactor=64;b.bitsetFillHasUnresolvedReplacementColor=8;b.bitsetFillRandomPatternOffset=4;b.bitsetGenericConsiderAlphaOnly=16;b.bitsetGenericLockColor=2;b.bitsetLineScaleDash=4;b.bitsetMarkerAlignmentMap=1;b.bitsetMarkerAlignmentScreen=0;b.bitsetMarkerOutlineAllowColorOverride=4;b.bitsetMarkerScaleSymbolsProportionally=8;b.bitsetTypeFillOutline=1;b.bufferDataMinimumSize=128;b.bufferDataPoolSize=4;b.chartMaxFields=10;b.collisionBoxPadding=16;b.collisionBucketSize=
128;b.collisionEarlyRejectBucketSize=16;b.collisionMaxZoomDelta=1;b.collisionPlacementPadding=8;b.collisionTileBoxSize=4;b.compressionFactorForU16=128;b.dataDrivenUnit0=4;b.dataDrivenUnit1=5;b.dataDrivenUnit2=6;b.debugLabels=!1;b.displayRecordIntPerElement=8;b.dotDensityMaxFields=8;b.effectFlag0=16;b.enableEarlyLabelDiscard=!1;b.extrudeScale=64;b.filterFlag0=8;b.filterFlagsUnit=1;b.glyphSize=24;b.gpgpuUnit=12;b.heuristicGlyphsPerFeature=10;b.heuristicGlyphsPerLine=50;b.highlightReasonsCount=3;b.hittestRadius=
1;b.labelPlacementOffsetPadding=4;b.magicLabelLineHeight=29;b.maxGeohashLevel=12;b.maxGpuUploadsPerFrame=2;b.maxRepresentableInt=16777216;b.maxSizeForU16Compression=511;b.minMaxZoomPrecisionFactor=10;b.nanMagicNumber=1E-30;b.patchPixelBufferAllocSize=500;b.patternFillRasterizationScale=2;b.pictureFillColor=4294967295;b.randomInsidePolygonTextureSize=1024;b.rasterTileSize=256;b.sdfTextureSize=124;b.spritePadding=2;b.textureBindingBitmap=0;b.textureBindingGlyphAtlas=0;b.textureBindingHighlight0=5;b.textureBindingHighlight1=
6;b.textureBindingRenderer0=5;b.textureBindingRenderer1=6;b.textureBindingSpriteAtlas=0;b.textureUploadManagerBudget=4;b.textureUploadManagerChunkSize=128;b.thinLineHalfWidthThreshold=1.05;b.tileSize=512;b.visualVariableUnit=3;b.vtlHighResCutoff=1.15;b.vtlTextureBindingUnitGlyphs=6;b.vtlTextureBindingUnitSprites=5;b.webglMaxInnerStops=6;b.webglMaxStops=8;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/capabilities":function(){define(["exports","./contextUtils"],function(b,
a){function q(g){if("undefined"===typeof WebGL2RenderingContext)return null;var h=document.createElement("canvas");if(!h)return null;let n=a.createContext(h,{failIfMajorPerformanceCaveat:!0});null==n&&(n=a.createContext(h),null!=n&&(g.majorPerformanceCaveat=!0));if(null==n)return n;g.available=!0;g.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE);g.supportsVertexShaderSamplers=0<n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS);if(h=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT))g.supportsHighPrecisionFragment=
0<h.precision;return n}let f;class l{constructor(){this.majorPerformanceCaveat=this.available=!1;this.maxTextureSize=0;this.supportsColorBufferHalfFloat=this.supportsColorBufferFloatBlend=this.supportsColorBufferFloat=this.supportsHighPrecisionFragment=this.supportsVertexShaderSamplers=!1}}b.getWebGLCapabilities=function(){if(!f){{const g=new l,h=q(g);null!=h&&(g.supportsColorBufferFloat=null!==h.getExtension("EXT_color_buffer_float"),g.supportsColorBufferFloatBlend=null!==h.getExtension("EXT_float_blend"),
g.supportsColorBufferHalfFloat=g.supportsColorBufferFloat||null!==h.getExtension("EXT_color_buffer_half_float"));f=g}}return f};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/contextUtils":function(){define(["exports"],function(b){b.createContext=function(a,q={}){return(a=a.getContext("webgl2",q))?a:null};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../chunks/tslib.es6 ../request ../core/asyncUtils ../core/Error ../core/lang ../core/MultiOriginJSONSupport ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../geometry/Extent ../geometry/SpatialReference ./Layer ./mixins/APIKeyMixin ./mixins/ArcGISCachedService ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/OperationalLayer ./mixins/PortalLayer ./mixins/ScaleRangeLayer ./support/imageUtils ./support/SpriteSource ./support/TileInfo ./support/TilemapCache ./support/vectorTileLayerLoader ../portal/support/jsonContext ../portal/support/urlUtils ../chunks/persistableUrlUtils ../views/2d/engine/vectorTiles/tileInfoUtils ../views/2d/engine/vectorTiles/style/StyleRepository ../views/webgl/capabilities".split(" "),function(b,
a,q,f,l,g,h,n,d,e,k,x,C,r,p,v,F,G,H,z,D,A,K,t,y,w,E,I,M,O,Q,V,X,Z,ha,ba){g=class extends D.BlendLayer(y.ScaleRangeLayer(H.ArcGISCachedService(z.ArcGISService(K.OperationalLayer(t.PortalLayer(A.CustomParametersMixin(G.APIKeyMixin(g.MultiOriginJSONMixin(F))))))))){constructor(...J){super(...J);this._spriteSourceMap=new Map;this.isReference=this.currentStyleInfo=null;this.operationalLayerType="VectorTileLayer";this.tilemapCache=this.style=null;this.type="vector-tile";this.path=this.url=null}normalizeCtorArgs(J,
N){return"string"===typeof J?{url:J,...N}:J}destroy(){if(this.sourceNameToSource)for(const J of Object.values(this.sourceNameToSource))J?.destroy();this.primarySource?.destroy();this._spriteSourceMap.clear()}async prefetchResources(J){await this.loadSpriteSource(globalThis.devicePixelRatio||1,J)}load(J){const N=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1},J).catch(h.throwIfAbortError).then(async()=>{if(this.portalItem?.id){var R=`${this.portalItem.itemCdnUrl}/resources/styles/root.json`;
(await a(R,{...J,query:{f:"json",...this.customParameters,token:this.apiKey}})).data&&this.read({url:R},Q.createForItemRead(this.portalItem,"portal-item"))}}).catch(h.throwIfAbortError).then(()=>this._loadStyle(J));this.addResolvingPromise(N);return Promise.resolve(this)}get attributionDataUrl(){var J=this.currentStyleInfo;J=J?.serviceUrl&&n.urlToObject(J.serviceUrl);return J?(J=this._getDefaultAttribution(J.path))?n.addQueryParameters(J,{...this.customParameters,token:this.apiKey}):null:null}get capabilities(){const J=
this.primarySource;return J?J.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}get fullExtent(){return this.primarySource?.fullExtent||null}get initialExtent(){return this.primarySource?.initialExtent||null}get parsedUrl(){return this.serviceUrl?n.urlToObject(this.serviceUrl):null}get serviceUrl(){return this.currentStyleInfo?.serviceUrl||null}get spatialReference(){return this.tileInfo?.spatialReference??null}get styleUrl(){return this.currentStyleInfo?.styleUrl||
null}writeStyleUrl(J,N){J&&n.isProtocolRelative(J)&&(J=`https:${J}`);const R=V.parseKnownArcGISOnlineDomain(J);N.styleUrl=X.ensureMainOnlineDomain(J,R)}get tileInfo(){const J=[];for(var N in this.sourceNameToSource)J.push(this.sourceNameToSource[N]);N=this.primarySource?.tileInfo||new I;if(1<J.length)for(let R=0;R<J.length;R++)Z.areSchemasOverlapping(N,J[R].tileInfo)&&(N=Z.unionTileInfos(N,J[R].tileInfo));return N}readTilemapCache(J,N){return N.capabilities?.includes("Tilemap")?new M.TilemapCache({layer:this}):
null}readVersion(J,N){return N.version?parseFloat(N.version):parseFloat(N.currentVersion)}async loadSpriteSource(J=1,N){if(!this._spriteSourceMap.has(J)){var R=ba.getWebGLCapabilities().maxTextureSize;const T=this.currentStyleInfo?.spriteUrl?n.addQueryParameters(this.currentStyleInfo.spriteUrl,{...this.customParameters,token:this.apiKey}):null;R=new E({type:"url",spriteUrl:T,pixelRatio:J,spriteFormat:this.currentStyleInfo?.spriteFormat},R);await R.load(N);this._spriteSourceMap.set(J,R)}return this._spriteSourceMap.get(J)}async setSpriteSource(J,
N){if(!J)return null;var R=ba.getWebGLCapabilities().maxTextureSize,T=J.spriteUrl;T=T?n.addQueryParameters(T,{...this.customParameters,token:this.apiKey}):null;if(!T&&"url"===J.type)return null;R=new E(J,R);try{await R.load(N);const da=J.pixelRatio||1;this._spriteSourceMap.clear();this._spriteSourceMap.set(da,R);T&&this.currentStyleInfo&&(this.currentStyleInfo.spriteUrl=T);this.emit("spriteSource-change",{spriteSource:R});return R}catch(da){h.throwIfAbortError(da)}return null}async loadStyle(J,N){const R=
J||this.style||this.url;if(this._loadingTask&&"string"===typeof R&&this.url===R)return this._loadingTask.promise;this._loadingTask?.abort();this._loadingTask=q.createTask(T=>{this._spriteSourceMap.clear();return this._getSourceAndStyle(R,{signal:T})},N);return this._loadingTask.promise}getStyleLayerId(J){return this.styleRepository.getStyleLayerId(J)}getStyleLayerIndex(J){return this.styleRepository.getStyleLayerIndex(J)}getPaintProperties(J){return l.clone(this.styleRepository?.getPaintProperties(J))}setPaintProperties(J,
N){const R=this.styleRepository.isPainterDataDriven(J);this.styleRepository.setPaintProperties(J,N);const T=this.styleRepository.isPainterDataDriven(J);this.emit("paint-change",{layer:J,paint:N,isDataDriven:R||T})}getStyleLayer(J){return l.clone(this.styleRepository.getStyleLayer(J))}setStyleLayer(J,N){this.styleRepository.setStyleLayer(J,N);this.emit("style-layer-change",{layer:J,index:N})}deleteStyleLayer(J){this.styleRepository.deleteStyleLayer(J);this.emit("delete-style-layer",{layer:J})}getLayoutProperties(J){return l.clone(this.styleRepository.getLayoutProperties(J))}setLayoutProperties(J,
N){this.styleRepository.setLayoutProperties(J,N);this.emit("layout-change",{layer:J,layout:N})}setStyleLayerVisibility(J,N){this.styleRepository.setStyleLayerVisibility(J,N);this.emit("style-layer-visibility-change",{layer:J,visibility:N})}getStyleLayerVisibility(J){return this.styleRepository.getStyleLayerVisibility(J)}write(J,N){return N?.origin&&!this.styleUrl?(N.messages&&N.messages.push(new f("vectortilelayer:unsupported",`VectorTileLayer (${this.title}, ${this.id}) with style defined by JSON only are not supported`,
{layer:this})),null):super.write(J,N)}getTileUrl(J,N,R){return null}async _getSourceAndStyle(J,N){if(!J)throw Error("invalid style!");N=await O.loadMetadata(J,{...N,query:{...this.customParameters,token:this.apiKey}});"webp"!==N.spriteFormat||await w.checkWebPSupport("lossy")||(N.spriteFormat="png");this._set("currentStyleInfo",{...N});"string"===typeof J?(this.url=J,this.style=null):(this.url=null,this.style=J);this._set("sourceNameToSource",N.sourceNameToSource);this._set("primarySource",N.sourceNameToSource[N.primarySourceName]);
this._set("styleRepository",new ha(N.style));this.read(N.layerDefinition,{origin:"service"});this.emit("load-style")}_getDefaultAttribution(J){var N=J.match(/^https?:\/\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^\/]+)?\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i);J="OpenStreetMap_v2 OpenStreetMap_Daylight_v2 OpenStreetMap_Export_v2 OpenStreetMap_FTS_v2 OpenStreetMap_GCS_v2 World_Basemap World_Basemap_v2 World_Basemap_Export_v2 World_Basemap_GCS_v2 World_Basemap_WGS84 World_Contours_v2".split(" ");
if(N){var R=N[2]&&N[2].toLowerCase();if(R){N=N[1]||"";for(const T of J)if(T.toLowerCase().includes(R))return n.normalize(`//static.arcgis.com/attribution/Vector${N}/${T}`)}}}async _loadStyle(J){return this._loadingTask?.promise??this.loadStyle(null,J)}};b.__decorate([d.property({readOnly:!0})],g.prototype,"attributionDataUrl",null);b.__decorate([d.property({type:["show","hide"]})],g.prototype,"listMode",void 0);b.__decorate([d.property({json:{read:!0,write:!0}})],g.prototype,"blendMode",void 0);b.__decorate([d.property({readOnly:!0,
json:{read:!1}})],g.prototype,"capabilities",null);b.__decorate([d.property({readOnly:!0})],g.prototype,"currentStyleInfo",void 0);b.__decorate([d.property({json:{read:!1},readOnly:!0,type:p})],g.prototype,"fullExtent",null);b.__decorate([d.property({json:{read:!1},readOnly:!0,type:p})],g.prototype,"initialExtent",null);b.__decorate([d.property({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],g.prototype,"isReference",void 0);b.__decorate([d.property({type:["VectorTileLayer"]})],
g.prototype,"operationalLayerType",void 0);b.__decorate([d.property({readOnly:!0})],g.prototype,"parsedUrl",null);b.__decorate([d.property()],g.prototype,"style",void 0);b.__decorate([d.property({readOnly:!0})],g.prototype,"serviceUrl",null);b.__decorate([d.property({type:v,readOnly:!0})],g.prototype,"spatialReference",null);b.__decorate([d.property({readOnly:!0})],g.prototype,"styleRepository",void 0);b.__decorate([d.property({readOnly:!0})],g.prototype,"sourceNameToSource",void 0);b.__decorate([d.property({readOnly:!0})],
g.prototype,"primarySource",void 0);b.__decorate([d.property({type:String,readOnly:!0,json:{write:{ignoreOrigin:!0},origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],g.prototype,"styleUrl",null);b.__decorate([r.writer(["portal-item","web-document"],"styleUrl")],g.prototype,"writeStyleUrl",null);b.__decorate([d.property({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:I})],g.prototype,"tileInfo",null);b.__decorate([d.property()],g.prototype,"tilemapCache",void 0);b.__decorate([x.reader("service",
"tilemapCache",["capabilities","tileInfo"])],g.prototype,"readTilemapCache",null);b.__decorate([d.property({json:{read:!1},readOnly:!0,value:"vector-tile"})],g.prototype,"type",void 0);b.__decorate([d.property({json:{origins:{"web-document":{read:{source:"styleUrl"}},"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],g.prototype,"url",void 0);b.__decorate([d.property({readOnly:!0})],g.prototype,"version",void 0);b.__decorate([x.reader("version",["version","currentVersion"])],g.prototype,"readVersion",
null);b.__decorate([d.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],g.prototype,"path",void 0);return g=b.__decorate([C.subclass("esri.layers.VectorTileLayer")],g)});